{"_id":{"$oid":"6050e60fc6e47b00993b9263"},"calculate_sdes":null,"calculation_method":"PATIENT","cms_id":"CMS177v8","component":false,"component_hqmf_set_ids":[],"composite":false,"composite_hqmf_set_id":null,"cql_libraries":[{"_id":{"$oid":"6050e60fc6e47b00993b93a7"},"cql":"library ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment version '8.1.000'\r\n\r\nusing QDM version '5.4'\r\n\r\ninclude MATGlobalCommonFunctions version '4.0.000' called Global\r\n\r\ncodesystem \"LOINC\": 'urn:oid:2.16.840.1.113883.6.1'\r\ncodesystem \"SNOMEDCT\": 'urn:oid:2.16.840.1.113883.6.96'\r\n\r\nvalueset \"Ethnicity\": 'urn:oid:2.16.840.1.114222.4.11.837'\r\nvalueset \"Group Psychotherapy\": 'urn:oid:2.16.840.1.113883.3.526.3.1187'\r\nvalueset \"Major Depressive Disorder-Active\": 'urn:oid:2.16.840.1.113883.3.526.3.1491'\r\nvalueset \"Office Visit\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1001'\r\nvalueset \"ONC Administrative Sex\": 'urn:oid:2.16.840.1.113762.1.4.1'\r\nvalueset \"Outpatient Consultation\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1008'\r\nvalueset \"Payer\": 'urn:oid:2.16.840.1.114222.4.11.3591'\r\nvalueset \"Psych Visit - Diagnostic Evaluation\": 'urn:oid:2.16.840.1.113883.3.526.3.1492'\r\nvalueset \"Psych Visit - Family Psychotherapy\": 'urn:oid:2.16.840.1.113883.3.526.3.1018'\r\nvalueset \"Psych Visit - Psychotherapy\": 'urn:oid:2.16.840.1.113883.3.526.3.1496'\r\nvalueset \"Psychoanalysis\": 'urn:oid:2.16.840.1.113883.3.526.3.1141'\r\nvalueset \"Race\": 'urn:oid:2.16.840.1.114222.4.11.836'\r\nvalueset \"Telehealth Services\": 'urn:oid:2.16.840.1.113883.3.464.1003.101.12.1031'\r\n\r\ncode \"Birth date\": '21112-8' from \"LOINC\" display 'Birth date'\r\ncode \"Suicide risk assessment (procedure)\": '225337009' from \"SNOMEDCT\" display 'Suicide risk assessment (procedure)'\r\n\r\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\r\n\r\ncontext Patient\r\n\r\ndefine \"SDE Ethnicity\":\r\n\t[\"Patient Characteristic Ethnicity\": \"Ethnicity\"]\r\n\r\ndefine \"SDE Payer\":\r\n\t[\"Patient Characteristic Payer\": \"Payer\"]\r\n\r\ndefine \"SDE Race\":\r\n\t[\"Patient Characteristic Race\": \"Race\"]\r\n\r\ndefine \"SDE Sex\":\r\n\t[\"Patient Characteristic Sex\": \"ONC Administrative Sex\"]\r\n\r\ndefine \"Denominator\":\r\n\t\"Initial Population\"\r\n\r\ndefine \"Major Depressive Disorder Encounter\":\r\n\t( [\"Encounter, Performed\": \"Office Visit\"]\r\n\t\tunion [\"Encounter, Performed\": \"Outpatient Consultation\"]\r\n\t\tunion [\"Encounter, Performed\": \"Psych Visit - Diagnostic Evaluation\"]\r\n\t\tunion [\"Encounter, Performed\": \"Psych Visit - Family Psychotherapy\"]\r\n\t\tunion [\"Encounter, Performed\": \"Psych Visit - Psychotherapy\"]\r\n\t\tunion [\"Encounter, Performed\": \"Psychoanalysis\"]\r\n\t\tunion [\"Encounter, Performed\": \"Group Psychotherapy\"]\r\n\t\tunion [\"Encounter, Performed\": \"Telehealth Services\"] ) ValidEncounter\r\n\t\twhere exists ( ValidEncounter.diagnoses EncounterDiagnosis\r\n\t\t\t\twhere EncounterDiagnosis in \"Major Depressive Disorder-Active\"\r\n\t\t)\r\n\t\t\tand ValidEncounter.relevantPeriod during \"Measurement Period\"\r\n\r\ndefine \"Numerator\":\r\n\t\"Major Depressive Disorder Encounter\" MDDEncounter\r\n\t\twith [\"Intervention, Performed\": \"Suicide risk assessment (procedure)\"] SuicideRiskAssessment\r\n\t\t\tsuch that SuicideRiskAssessment.relevantPeriod during MDDEncounter.relevantPeriod\r\n\r\ndefine \"Initial Population\":\r\n\t\"Major Depressive Disorder Encounter\" MDDEncounter\r\n\t\twith [\"Patient Characteristic Birthdate\": \"Birth date\"] BirthDate\r\n\t\t\tsuch that Global.\"CalendarAgeInYearsAt\"(BirthDate.birthDatetime, start of \"Measurement Period\")\u003e= 6\r\n\t\t\t\tand Global.\"CalendarAgeInYearsAt\"(BirthDate.birthDatetime, start of \"Measurement Period\")\u003c 17","elm":{"library":{"identifier":{"id":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment","version":"8.1.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"3:1-3:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_4","version":"5.4"}]},"includes":{"def":[{"localId":"2","locator":"5:1-5:64","localIdentifier":"Global","path":"MATGlobalCommonFunctions","version":"4.0.000"}]},"parameters":{"def":[{"localId":"24","locator":"27:1-27:49","name":"Measurement Period","accessLevel":"Public","parameterTypeSpecifier":{"localId":"23","locator":"27:32-27:49","type":"IntervalTypeSpecifier","pointType":{"localId":"22","locator":"27:41-27:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"codeSystems":{"def":[{"localId":"3","locator":"7:1-7:51","name":"LOINC","id":"2.16.840.1.113883.6.1","accessLevel":"Public"},{"localId":"4","locator":"8:1-8:55","name":"SNOMEDCT","id":"2.16.840.1.113883.6.96","accessLevel":"Public"}]},"valueSets":{"def":[{"localId":"5","locator":"10:1-10:58","name":"Ethnicity","id":"2.16.840.1.114222.4.11.837","accessLevel":"Public"},{"localId":"6","locator":"11:1-11:72","name":"Group Psychotherapy","id":"2.16.840.1.113883.3.526.3.1187","accessLevel":"Public"},{"localId":"7","locator":"12:1-12:85","name":"Major Depressive Disorder-Active","id":"2.16.840.1.113883.3.526.3.1491","accessLevel":"Public"},{"localId":"8","locator":"13:1-13:75","name":"Office Visit","id":"2.16.840.1.113883.3.464.1003.101.12.1001","accessLevel":"Public"},{"localId":"9","locator":"14:1-14:68","name":"ONC Administrative Sex","id":"2.16.840.1.113762.1.4.1","accessLevel":"Public"},{"localId":"10","locator":"15:1-15:86","name":"Outpatient Consultation","id":"2.16.840.1.113883.3.464.1003.101.12.1008","accessLevel":"Public"},{"localId":"11","locator":"16:1-16:55","name":"Payer","id":"2.16.840.1.114222.4.11.3591","accessLevel":"Public"},{"localId":"12","locator":"17:1-17:88","name":"Psych Visit - Diagnostic Evaluation","id":"2.16.840.1.113883.3.526.3.1492","accessLevel":"Public"},{"localId":"13","locator":"18:1-18:87","name":"Psych Visit - Family Psychotherapy","id":"2.16.840.1.113883.3.526.3.1018","accessLevel":"Public"},{"localId":"14","locator":"19:1-19:80","name":"Psych Visit - Psychotherapy","id":"2.16.840.1.113883.3.526.3.1496","accessLevel":"Public"},{"localId":"15","locator":"20:1-20:67","name":"Psychoanalysis","id":"2.16.840.1.113883.3.526.3.1141","accessLevel":"Public"},{"localId":"16","locator":"21:1-21:53","name":"Race","id":"2.16.840.1.114222.4.11.836","accessLevel":"Public"},{"localId":"17","locator":"22:1-22:82","name":"Telehealth Services","id":"2.16.840.1.113883.3.464.1003.101.12.1031","accessLevel":"Public"}]},"codes":{"def":[{"localId":"19","locator":"24:1-24:62","name":"Birth date","id":"21112-8","display":"Birth date","accessLevel":"Public","codeSystem":{"localId":"18","locator":"24:35-24:41","name":"LOINC"}},{"localId":"21","locator":"25:1-25:117","name":"Suicide risk assessment (procedure)","id":"225337009","display":"Suicide risk assessment (procedure)","accessLevel":"Public","codeSystem":{"localId":"20","locator":"25:62-25:71","name":"SNOMEDCT"}}]},"statements":{"def":[{"locator":"29:1-29:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"29:1-29:15","dataType":"{urn:healthit-gov:qdm:v5_4}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"26","locator":"31:1-32:50","name":"SDE Ethnicity","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"26","s":[{"value":["define ","\"SDE Ethnicity\"",":\n\t"]},{"r":"25","s":[{"value":["[","\"Patient Characteristic Ethnicity\"",": "]},{"s":[{"value":["\"Ethnicity\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"25","locator":"32:2-32:50","dataType":"{urn:healthit-gov:qdm:v5_4}PatientCharacteristicEthnicity","codeProperty":"code","type":"Retrieve","codes":{"name":"Ethnicity","type":"ValueSetRef"}}},{"localId":"28","locator":"34:1-35:42","name":"SDE Payer","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"28","s":[{"value":["define ","\"SDE Payer\"",":\n\t"]},{"r":"27","s":[{"value":["[","\"Patient Characteristic Payer\"",": "]},{"s":[{"value":["\"Payer\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"27","locator":"35:2-35:42","dataType":"{urn:healthit-gov:qdm:v5_4}PatientCharacteristicPayer","codeProperty":"code","type":"Retrieve","codes":{"name":"Payer","type":"ValueSetRef"}}},{"localId":"30","locator":"37:1-38:40","name":"SDE Race","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"30","s":[{"value":["define ","\"SDE Race\"",":\n\t"]},{"r":"29","s":[{"value":["[","\"Patient Characteristic Race\"",": "]},{"s":[{"value":["\"Race\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"29","locator":"38:2-38:40","dataType":"{urn:healthit-gov:qdm:v5_4}PatientCharacteristicRace","codeProperty":"code","type":"Retrieve","codes":{"name":"Race","type":"ValueSetRef"}}},{"localId":"32","locator":"40:1-41:57","name":"SDE Sex","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"32","s":[{"value":["define ","\"SDE Sex\"",":\n\t"]},{"r":"31","s":[{"value":["[","\"Patient Characteristic Sex\"",": "]},{"s":[{"value":["\"ONC Administrative Sex\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"31","locator":"41:2-41:57","dataType":"{urn:healthit-gov:qdm:v5_4}PatientCharacteristicSex","codeProperty":"code","type":"Retrieve","codes":{"name":"ONC Administrative Sex","type":"ValueSetRef"}}},{"localId":"62","locator":"46:1-58:64","name":"Major Depressive Disorder Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"62","s":[{"value":["define ","\"Major Depressive Disorder Encounter\"",":\n\t"]},{"r":"61","s":[{"s":[{"r":"48","s":[{"r":"47","s":[{"value":["( "]},{"r":"47","s":[{"r":"45","s":[{"r":"43","s":[{"r":"41","s":[{"r":"39","s":[{"r":"37","s":[{"r":"35","s":[{"r":"33","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Office Visit\""]}]},{"value":["]"]}]},{"value":["\n\t\tunion "]},{"r":"34","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Outpatient Consultation\""]}]},{"value":["]"]}]}]},{"value":["\n\t\tunion "]},{"r":"36","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Psych Visit - Diagnostic Evaluation\""]}]},{"value":["]"]}]}]},{"value":["\n\t\tunion "]},{"r":"38","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Psych Visit - Family Psychotherapy\""]}]},{"value":["]"]}]}]},{"value":["\n\t\tunion "]},{"r":"40","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Psych Visit - Psychotherapy\""]}]},{"value":["]"]}]}]},{"value":["\n\t\tunion "]},{"r":"42","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Psychoanalysis\""]}]},{"value":["]"]}]}]},{"value":["\n\t\tunion "]},{"r":"44","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Group Psychotherapy\""]}]},{"value":["]"]}]}]},{"value":["\n\t\tunion "]},{"r":"46","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Telehealth Services\""]}]},{"value":["]"]}]}]},{"value":[" )"]}]},{"value":[" ","ValidEncounter"]}]}]},{"value":["\n\t\t"]},{"r":"60","s":[{"value":["where "]},{"r":"60","s":[{"r":"55","s":[{"value":["exists "]},{"r":"54","s":[{"value":["( "]},{"r":"54","s":[{"s":[{"r":"50","s":[{"r":"49","s":[{"s":[{"value":["ValidEncounter",".","diagnoses"]}]}]},{"value":[" ","EncounterDiagnosis"]}]}]},{"value":["\n\t\t\t\t"]},{"r":"53","s":[{"value":["where "]},{"r":"53","s":[{"r":"51","s":[{"value":["EncounterDiagnosis"]}]},{"value":[" in "]},{"r":"52","s":[{"value":["\"Major Depressive Disorder-Active\""]}]}]}]}]},{"value":["\n\t\t)"]}]}]},{"value":["\n\t\t\tand "]},{"r":"59","s":[{"r":"57","s":[{"r":"56","s":[{"value":["ValidEncounter"]}]},{"value":["."]},{"r":"57","s":[{"value":["relevantPeriod"]}]}]},{"value":[" ","during"," "]},{"r":"58","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}]}}],"expression":{"localId":"61","locator":"47:2-58:64","type":"Query","source":[{"localId":"48","locator":"47:2-54:72","alias":"ValidEncounter","expression":{"localId":"47","locator":"47:2-54:57","type":"Union","operand":[{"localId":"43","locator":"47:4-52:50","type":"Union","operand":[{"localId":"39","locator":"47:4-50:70","type":"Union","operand":[{"localId":"35","locator":"47:4-48:59","type":"Union","operand":[{"localId":"33","locator":"47:4-47:43","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Office Visit","type":"ValueSetRef"}},{"localId":"34","locator":"48:9-48:59","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Outpatient Consultation","type":"ValueSetRef"}}]},{"type":"Union","operand":[{"localId":"36","locator":"49:9-49:71","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Psych Visit - Diagnostic Evaluation","type":"ValueSetRef"}},{"localId":"38","locator":"50:9-50:70","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Psych Visit - Family Psychotherapy","type":"ValueSetRef"}}]}]},{"type":"Union","operand":[{"localId":"40","locator":"51:9-51:63","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Psych Visit - Psychotherapy","type":"ValueSetRef"}},{"localId":"42","locator":"52:9-52:50","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Psychoanalysis","type":"ValueSetRef"}}]}]},{"type":"Union","operand":[{"localId":"44","locator":"53:9-53:55","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Group Psychotherapy","type":"ValueSetRef"}},{"localId":"46","locator":"54:9-54:55","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Telehealth Services","type":"ValueSetRef"}}]}]}}],"relationship":[],"where":{"localId":"60","locator":"55:3-58:64","type":"And","operand":[{"localId":"55","locator":"55:9-57:3","type":"Exists","operand":{"localId":"54","locator":"55:16-57:3","type":"Query","source":[{"localId":"50","locator":"55:18-55:60","alias":"EncounterDiagnosis","expression":{"localId":"49","locator":"55:18-55:41","path":"diagnoses","scope":"ValidEncounter","type":"Property"}}],"relationship":[],"where":{"localId":"53","locator":"56:5-56:66","type":"InValueSet","code":{"localId":"51","locator":"56:11-56:28","name":"EncounterDiagnosis","type":"AliasRef"},"valueset":{"localId":"52","locator":"56:33-56:66","name":"Major Depressive Disorder-Active"}}}},{"localId":"59","locator":"58:8-58:64","type":"IncludedIn","operand":[{"localId":"57","locator":"58:8-58:36","path":"relevantPeriod","scope":"ValidEncounter","type":"Property"},{"localId":"58","locator":"58:45-58:64","name":"Measurement Period","type":"ParameterRef"}]}]}}},{"localId":"86","locator":"65:1-69:97","name":"Initial Population","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"86","s":[{"value":["define ","\"Initial Population\"",":\n\t"]},{"r":"85","s":[{"s":[{"r":"64","s":[{"r":"63","s":[{"s":[{"value":["\"Major Depressive Disorder Encounter\""]}]}]},{"value":[" ","MDDEncounter"]}]}]},{"value":["\n\t\t"]},{"r":"84","s":[{"value":["with "]},{"r":"66","s":[{"r":"65","s":[{"r":"65","s":[{"value":["[","\"Patient Characteristic Birthdate\"",": "]},{"s":[{"value":["\"Birth date\""]}]},{"value":["]"]}]}]},{"value":[" ","BirthDate"]}]},{"value":["\n\t\t\tsuch that "]},{"r":"83","s":[{"r":"74","s":[{"r":"72","s":[{"r":"67","s":[{"value":["Global"]}]},{"value":["."]},{"r":"72","s":[{"value":["\"CalendarAgeInYearsAt\"","("]},{"r":"69","s":[{"r":"68","s":[{"value":["BirthDate"]}]},{"value":["."]},{"r":"69","s":[{"value":["birthDatetime"]}]}]},{"value":[", "]},{"r":"71","s":[{"value":["start of "]},{"r":"70","s":[{"value":["\"Measurement Period\""]}]}]},{"value":[")"]}]}]},{"value":["\u003e="," ","6"]}]},{"value":["\n\t\t\t\tand "]},{"r":"82","s":[{"r":"80","s":[{"r":"75","s":[{"value":["Global"]}]},{"value":["."]},{"r":"80","s":[{"value":["\"CalendarAgeInYearsAt\"","("]},{"r":"77","s":[{"r":"76","s":[{"value":["BirthDate"]}]},{"value":["."]},{"r":"77","s":[{"value":["birthDatetime"]}]}]},{"value":[", "]},{"r":"79","s":[{"value":["start of "]},{"r":"78","s":[{"value":["\"Measurement Period\""]}]}]},{"value":[")"]}]}]},{"value":["\u003c"," ","17"]}]}]}]}]}]}}],"expression":{"localId":"85","locator":"66:2-69:97","type":"Query","source":[{"localId":"64","locator":"66:2-66:51","alias":"MDDEncounter","expression":{"localId":"63","locator":"66:2-66:38","name":"Major Depressive Disorder Encounter","type":"ExpressionRef"}}],"relationship":[{"localId":"84","locator":"67:3-69:97","alias":"BirthDate","type":"With","expression":{"localId":"65","locator":"67:8-67:57","dataType":"{urn:healthit-gov:qdm:v5_4}PatientCharacteristicBirthdate","codeProperty":"code","type":"Retrieve","codes":{"type":"ToList","operand":{"name":"Birth date","type":"CodeRef"}}},"suchThat":{"localId":"83","locator":"68:14-69:97","type":"And","operand":[{"localId":"74","locator":"68:14-68:102","type":"GreaterOrEqual","operand":[{"localId":"72","locator":"68:14-68:98","name":"CalendarAgeInYearsAt","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"69","locator":"68:44-68:66","path":"birthDatetime","scope":"BirthDate","type":"Property"},{"localId":"71","locator":"68:69-68:97","type":"Start","operand":{"localId":"70","locator":"68:78-68:97","name":"Measurement Period","type":"ParameterRef"}}]},{"localId":"73","locator":"68:102","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"6","type":"Literal"}]},{"localId":"82","locator":"69:9-69:97","type":"Less","operand":[{"localId":"80","locator":"69:9-69:93","name":"CalendarAgeInYearsAt","libraryName":"Global","type":"FunctionRef","operand":[{"localId":"77","locator":"69:39-69:61","path":"birthDatetime","scope":"BirthDate","type":"Property"},{"localId":"79","locator":"69:64-69:92","type":"Start","operand":{"localId":"78","locator":"69:73-69:92","name":"Measurement Period","type":"ParameterRef"}}]},{"localId":"81","locator":"69:96-69:97","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"17","type":"Literal"}]}]}}]}},{"localId":"88","locator":"43:1-44:21","name":"Denominator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"88","s":[{"value":["define ","\"Denominator\"",":\n\t"]},{"r":"87","s":[{"value":["\"Initial Population\""]}]}]}}],"expression":{"localId":"87","locator":"44:2-44:21","name":"Initial Population","type":"ExpressionRef"}},{"localId":"100","locator":"60:1-63:84","name":"Numerator","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"100","s":[{"value":["define ","\"Numerator\"",":\n\t"]},{"r":"99","s":[{"s":[{"r":"90","s":[{"r":"89","s":[{"s":[{"value":["\"Major Depressive Disorder Encounter\""]}]}]},{"value":[" ","MDDEncounter"]}]}]},{"value":["\n\t\t"]},{"r":"98","s":[{"value":["with "]},{"r":"92","s":[{"r":"91","s":[{"r":"91","s":[{"value":["[","\"Intervention, Performed\"",": "]},{"s":[{"value":["\"Suicide risk assessment (procedure)\""]}]},{"value":["]"]}]}]},{"value":[" ","SuicideRiskAssessment"]}]},{"value":["\n\t\t\tsuch that "]},{"r":"97","s":[{"r":"94","s":[{"r":"93","s":[{"value":["SuicideRiskAssessment"]}]},{"value":["."]},{"r":"94","s":[{"value":["relevantPeriod"]}]}]},{"value":[" ","during"," "]},{"r":"96","s":[{"r":"95","s":[{"value":["MDDEncounter"]}]},{"value":["."]},{"r":"96","s":[{"value":["relevantPeriod"]}]}]}]}]}]}]}}],"expression":{"localId":"99","locator":"61:2-63:84","type":"Query","source":[{"localId":"90","locator":"61:2-61:51","alias":"MDDEncounter","expression":{"localId":"89","locator":"61:2-61:38","name":"Major Depressive Disorder Encounter","type":"ExpressionRef"}}],"relationship":[{"localId":"98","locator":"62:3-63:84","alias":"SuicideRiskAssessment","type":"With","expression":{"localId":"91","locator":"62:8-62:73","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveInterventionPerformed","templateId":"PositiveInterventionPerformed","codeProperty":"code","type":"Retrieve","codes":{"type":"ToList","operand":{"name":"Suicide risk assessment (procedure)","type":"CodeRef"}}},"suchThat":{"localId":"97","locator":"63:14-63:84","type":"IncludedIn","operand":[{"localId":"94","locator":"63:14-63:49","path":"relevantPeriod","scope":"SuicideRiskAssessment","type":"Property"},{"localId":"96","locator":"63:58-63:84","path":"relevantPeriod","scope":"MDDEncounter","type":"Property"}]}}]}}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define \"SDE Ethnicity\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Ethnicity\": "}]},{"children":[{"children":[{"text":"\"Ethnicity\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"25"}],"ref_id":"26"}],"define_name":"SDE Ethnicity"},{"children":[{"children":[{"children":[{"text":"define \"SDE Payer\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Payer\": "}]},{"children":[{"children":[{"text":"\"Payer\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"27"}],"ref_id":"28"}],"define_name":"SDE Payer"},{"children":[{"children":[{"children":[{"text":"define \"SDE Race\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Race\": "}]},{"children":[{"children":[{"text":"\"Race\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"29"}],"ref_id":"30"}],"define_name":"SDE Race"},{"children":[{"children":[{"children":[{"text":"define \"SDE Sex\":\n  "}]},{"children":[{"children":[{"text":"[\"Patient Characteristic Sex\": "}]},{"children":[{"children":[{"text":"\"ONC Administrative Sex\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"31"}],"ref_id":"32"}],"define_name":"SDE Sex"},{"children":[{"children":[{"children":[{"text":"define \"Major Depressive Disorder Encounter\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Office Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"33"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Outpatient Consultation\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"34"}],"node_type":"Union","ref_id":"35"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Psych Visit - Diagnostic Evaluation\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"36"}],"ref_id":"37"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Psych Visit - Family Psychotherapy\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"38"}],"node_type":"Union","ref_id":"39"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Psych Visit - Psychotherapy\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"40"}],"ref_id":"41"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Psychoanalysis\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"42"}],"node_type":"Union","ref_id":"43"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Group Psychotherapy\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"44"}],"ref_id":"45"},{"children":[{"text":"\n    union "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Telehealth Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"46"}],"node_type":"Union","ref_id":"47"},{"children":[{"text":" )"}]}],"node_type":"Union","ref_id":"47"},{"children":[{"text":" ValidEncounter"}]}],"ref_id":"48"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"text":"exists "}]},{"children":[{"children":[{"text":"( "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"ValidEncounter.diagnoses"}]}]}],"node_type":"Property","ref_id":"49"},{"children":[{"text":" EncounterDiagnosis"}]}],"ref_id":"50"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"text":"EncounterDiagnosis"}]}],"ref_id":"51"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Major Depressive Disorder-Active\""}]}],"ref_id":"52"}],"ref_id":"53"}],"ref_id":"53"}],"node_type":"Query","ref_id":"54"},{"children":[{"text":"\n    )"}]}],"node_type":"Query","ref_id":"54"}],"node_type":"Exists","ref_id":"55"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"ValidEncounter"}]}],"ref_id":"56"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"57"}],"node_type":"Property","ref_id":"57"},{"children":[{"text":" during "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"58"}],"node_type":"IncludedIn","ref_id":"59"}],"ref_id":"60"}],"ref_id":"60"}],"node_type":"Query","ref_id":"61"}],"ref_id":"62"}],"define_name":"Major Depressive Disorder Encounter"},{"children":[{"children":[{"children":[{"text":"define \"Initial Population\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Major Depressive Disorder Encounter\""}]}]}],"node_type":"ExpressionRef","ref_id":"63"},{"children":[{"text":" MDDEncounter"}]}],"ref_id":"64"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"with "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Patient Characteristic Birthdate\": "}]},{"children":[{"children":[{"text":"\"Birth date\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"65"}],"node_type":"Retrieve","ref_id":"65"},{"children":[{"text":" BirthDate"}]}],"ref_id":"66"},{"children":[{"text":"\n      such that "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"67"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"CalendarAgeInYearsAt\"("}]},{"children":[{"children":[{"children":[{"text":"BirthDate"}]}],"ref_id":"68"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"birthDatetime"}]}],"node_type":"Property","ref_id":"69"}],"node_type":"Property","ref_id":"69"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"70"}],"node_type":"Start","ref_id":"71"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"72"}],"node_type":"FunctionRef","ref_id":"72"},{"children":[{"text":"\u003e= 6"}]}],"node_type":"GreaterOrEqual","ref_id":"74"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"Global"}]}],"ref_id":"75"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"\"CalendarAgeInYearsAt\"("}]},{"children":[{"children":[{"children":[{"text":"BirthDate"}]}],"ref_id":"76"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"birthDatetime"}]}],"node_type":"Property","ref_id":"77"}],"node_type":"Property","ref_id":"77"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"78"}],"node_type":"Start","ref_id":"79"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"80"}],"node_type":"FunctionRef","ref_id":"80"},{"children":[{"text":"\u003c 17"}]}],"node_type":"Less","ref_id":"82"}],"node_type":"And","ref_id":"83"}],"ref_id":"84"}],"node_type":"Query","ref_id":"85"}],"ref_id":"86"}],"define_name":"Initial Population"},{"children":[{"children":[{"children":[{"text":"define \"Denominator\":\n  "}]},{"children":[{"children":[{"text":"\"Initial Population\""}]}],"node_type":"ExpressionRef","ref_id":"87"}],"ref_id":"88"}],"define_name":"Denominator"},{"children":[{"children":[{"children":[{"text":"define \"Numerator\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"\"Major Depressive Disorder Encounter\""}]}]}],"node_type":"ExpressionRef","ref_id":"89"},{"children":[{"text":" MDDEncounter"}]}],"ref_id":"90"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"with "}]},{"children":[{"children":[{"children":[{"children":[{"text":"[\"Intervention, Performed\": "}]},{"children":[{"children":[{"text":"\"Suicide risk assessment (procedure)\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"91"}],"node_type":"Retrieve","ref_id":"91"},{"children":[{"text":" SuicideRiskAssessment"}]}],"ref_id":"92"},{"children":[{"text":"\n      such that "}]},{"children":[{"children":[{"children":[{"children":[{"text":"SuicideRiskAssessment"}]}],"ref_id":"93"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"94"}],"node_type":"Property","ref_id":"94"},{"children":[{"text":" during "}]},{"children":[{"children":[{"children":[{"text":"MDDEncounter"}]}],"ref_id":"95"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"96"}],"node_type":"Property","ref_id":"96"}],"node_type":"IncludedIn","ref_id":"97"}],"ref_id":"98"}],"node_type":"Query","ref_id":"99"}],"ref_id":"100"}],"define_name":"Numerator"}],"identifier":{"id":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment","version":"8.1.000"}},"is_main_library":true,"is_top_level":true,"library_name":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment","library_version":"8.1.000","statement_dependencies":[{"_id":{"$oid":"6050e60fc6e47b00993b93a8"},"statement_name":"Patient"},{"_id":{"$oid":"6050e60fc6e47b00993b93a9"},"statement_name":"SDE Ethnicity"},{"_id":{"$oid":"6050e60fc6e47b00993b93aa"},"statement_name":"SDE Payer"},{"_id":{"$oid":"6050e60fc6e47b00993b93ab"},"statement_name":"SDE Race"},{"_id":{"$oid":"6050e60fc6e47b00993b93ac"},"statement_name":"SDE Sex"},{"_id":{"$oid":"6050e60fc6e47b00993b93ad"},"statement_name":"Major Depressive Disorder Encounter"},{"_id":{"$oid":"6050e60fc6e47b00993b93ae"},"statement_name":"Initial Population","statement_references":[{"_id":{"$oid":"6050e60fc6e47b00993b93af"},"hqmf_id":null,"library_name":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment","statement_name":"Major Depressive Disorder Encounter"},{"_id":{"$oid":"6050e60fc6e47b00993b93b0"},"hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"CalendarAgeInYearsAt"}]},{"_id":{"$oid":"6050e60fc6e47b00993b93b1"},"statement_name":"Denominator","statement_references":[{"_id":{"$oid":"6050e60fc6e47b00993b93b2"},"hqmf_id":null,"library_name":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment","statement_name":"Initial Population"}]},{"_id":{"$oid":"6050e60fc6e47b00993b93b3"},"statement_name":"Numerator","statement_references":[{"_id":{"$oid":"6050e60fc6e47b00993b93b4"},"hqmf_id":null,"library_name":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment","statement_name":"Major Depressive Disorder Encounter"}]}]},{"_id":{"$oid":"6050e60fc6e47b00993b93b5"},"cql":"library MATGlobalCommonFunctions version '4.0.000'\n\n/*For use with program eCQMs during the AU 2019*/\n\nusing QDM version '5.4'\n\nvalueset \"Emergency Department Visit\": 'urn:oid:2.16.840.1.113883.3.117.1.7.1.292' \nvalueset \"Encounter Inpatient\": 'urn:oid:2.16.840.1.113883.3.666.5.307' \nvalueset \"Intensive Care Unit\": 'urn:oid:2.16.840.1.113762.1.4.1110.23' \nvalueset \"Observation Services\": 'urn:oid:2.16.840.1.113762.1.4.1111.143' \nvalueset \"Outpatient Surgery Service\": 'urn:oid:2.16.840.1.113762.1.4.1110.38' \n\nparameter \"Measurement Period\" Interval\u003cDateTime\u003e\n\ncontext Patient\n\ndefine \"Inpatient Encounter\":\n\t[\"Encounter, Performed\": \"Encounter Inpatient\"] EncounterInpatient\n\t\twhere \"LengthInDays\"(EncounterInpatient.relevantPeriod)\u003c= 120\n\t\t\tand EncounterInpatient.relevantPeriod ends during \"Measurement Period\"\n\ndefine \"ED Encounter\":\n\t[\"Encounter, Performed\": \"Emergency Department Visit\"]\n\n/*ToDate takes a given DateTime value and returns a DateTime with the time components \"zeroed\", and the timezone of the input value, for example, given the DateTime @2012-01-01T06:30:00.0Z, this function will return @2012-01-01T00:00:00.0Z.*/\ndefine function \"ToDate\"(Value DateTime ):\n\tDateTime(year from Value, month from Value, day from Value, 0, 0, 0, 0, timezone from Value)\n\n/*CalendarAgeInDaysAt calculates the calendar age (meaning the age without considering time components) in days.*/\ndefine function \"CalendarAgeInDaysAt\"(BirthDateTime DateTime, AsOf DateTime ):\n\tdays between ToDate(BirthDateTime)and ToDate(AsOf)\n\n/*CalendarAgeInDays calculates the calendar age (meaning the age without considering time components) in days as of today*/\ndefine function \"CalendarAgeInDays\"(BirthDateTime DateTime ):\n\tCalendarAgeInDaysAt(BirthDateTime, Today())\n\n/*CalendarAgeInMonthsAt calculates the calendar age (meaning the age without considering time components) in months.*/\ndefine function \"CalendarAgeInMonthsAt\"(BirthDateTime DateTime, AsOf DateTime ):\n\tmonths between ToDate(BirthDateTime)and ToDate(AsOf)\n\n/*CalendarAgeInMonths calculates the calendar age (meaning the age without considering time components) in months as of today.*/\ndefine function \"CalendarAgeInMonths\"(BirthDateTime DateTime ):\n\tCalendarAgeInMonthsAt(BirthDateTime, Today())\n\n/*CalendarAgeInYearsAt calculates the calendar age (meaning the age without considering time components) in years.*/\ndefine function \"CalendarAgeInYearsAt\"(BirthDateTime DateTime, AsOf DateTime ):\n\tyears between ToDate(BirthDateTime)and ToDate(AsOf)\n\n/*CalendarAgeInYears calculates the calendar age (meaning the age without considering time components) in years as of today.*/\ndefine function \"CalendarAgeInYears\"(BirthDateTime DateTime ):\n\tCalendarAgeInYearsAt(BirthDateTime, Today())\n\n/*calculates the difference in calendar days between the start and end of the given interval.*/\ndefine function \"LengthInDays\"(Value Interval\u003cDateTime\u003e ):\n\tdifference in days between start of Value and end of Value\n\n/* returns list of all locations within an encounter, including locations for immediately prior ED visit. */\ndefine function \"HospitalizationLocations\"(Encounter \"Encounter, Performed\" ):\n\tEncounter Visit\n\t\tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n\t\t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n\t\t\t\tsort by \n\t\t\t\tend of relevantPeriod\n\t\t)\n\t\treturn if EDVisit is null then Visit.facilityLocations \n\t\t\telse flatten { EDVisit.facilityLocations, Visit.facilityLocations }\n\n/*Returns the arrival time in the ED for the encounter.  \n*/\ndefine function \"EmergencyDepartmentArrivalTime\"(Encounter \"Encounter, Performed\" ):\n\tstart of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n\t\t\twhere HospitalLocation.code in \"Emergency Department Visit\"\n\t\t\tsort by start of locationPeriod\n\t).locationPeriod\n\n/*First Inpatient Intensive Care Unit returns the first intensive care unit for\nthe given encounter, without considering any immediately prior emergency\ndepartment visit.*/\ndefine function \"FirstInpatientIntensiveCareUnit\"(Encounter \"Encounter, Performed\" ):\n\tFirst((Encounter.facilityLocations)HospitalLocation\n\t\t\twhere HospitalLocation.code in \"Intensive Care Unit\"\n\t\t\t\tand HospitalLocation.locationPeriod during Encounter.relevantPeriod\n\t\t\tsort by start of locationPeriod\n\t)\n\n/*Returns admission time for an encounter or for immediately prior emergency department visit.  */\ndefine function \"HospitalAdmissionTime\"(Encounter \"Encounter, Performed\" ):\n\tstart of \"Hospitalization\"(Encounter)\n\n/*Returns earliest arrival time for an encounter including any prior ED visit. */\ndefine function \"HospitalArrivalTime\"(Encounter \"Encounter, Performed\" ):\n\tstart of First((\"HospitalizationLocations\"(Encounter))HospitalLocation\n\t\t\tsort by start of locationPeriod\n\t).locationPeriod\n\n/*Hospitalization returns the total interval for admission to discharge for the given encounter, or for the admission of any immediately prior emergency department visit to the discharge of the given encounter.*/\ndefine function \"Hospitalization\"(Encounter \"Encounter, Performed\" ):\n\tEncounter Visit\n\t\tlet EDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n\t\t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n\t\t\t\tsort by \n\t\t\t\tend of relevantPeriod\n\t\t)\n\t\treturn Interval[Coalesce(start of EDVisit.relevantPeriod, start of Visit.relevantPeriod), \n\t\tend of Visit.relevantPeriod]\n\n/*Returns the length of stay in days (i.e. the number of days between admission and discharge) for the given encounter, or from the admission of any immediately prior emergency department visit to the discharge of the encounter*/\ndefine function \"HospitalizationLengthofStay\"(Encounter \"Encounter, Performed\" ):\n\tLengthInDays(\"Hospitalization\"(Encounter))\n\n/*Returns the latest departure time for encounter including any prior ED visit. */\ndefine function \"HospitalDepartureTime\"(Encounter \"Encounter, Performed\" ):\n\tend of Last((\"HospitalizationLocations\"(Encounter))HospitalLocation\n\t\t\tsort by start of locationPeriod\n\t).locationPeriod\n\n/*Hospital Discharge Time returns the discharge time for an encounter*/\ndefine function \"HospitalDischargeTime\"(Encounter \"Encounter, Performed\" ):\n\tend of Encounter.relevantPeriod\n\n/*Hospitalization with Observation and Outpatient Surgery Service returns the total interval from the start of any immediately prior emergency department visit, outpatient surgery visit or observation visit to the discharge of the given encounter.*/\ndefine function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter \"Encounter, Performed\" ):\n\tEncounter Visit\n\t\tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n\t\t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n\t\t\t\tsort by \n\t\t\t\tend of relevantPeriod\n\t\t),\n\t\tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n\t\tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n\t\t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n\t\t\t\tsort by \n\t\t\t\tend of relevantPeriod\n\t\t),\n\t\tVisitStartWithED: Coalesce(start of EDVisit.relevantPeriod, VisitStart),\n\t\tOutpatientSurgeryVisit: Last([\"Encounter, Performed\": \"Outpatient Surgery Service\"] LastSurgeryOP\n\t\t\t\twhere LastSurgeryOP.relevantPeriod ends 1 hour or less on or before VisitStartWithED\n\t\t\t\tsort by \n\t\t\t\tend of relevantPeriod\n\t\t)\n\t\treturn Interval[Coalesce(start of OutpatientSurgeryVisit.relevantPeriod, VisitStartWithED), \n\t\tend of Visit.relevantPeriod]\n\n/*Hospitalization with Observation returns the total interval from the start of any immediately prior emergency department visit through the observation visit to the discharge of the given encounter*/\ndefine function \"HospitalizationWithObservation\"(Encounter \"Encounter, Performed\" ):\n\tEncounter Visit\n\t\tlet ObsVisit: Last([\"Encounter, Performed\": \"Observation Services\"] LastObs\n\t\t\t\twhere LastObs.relevantPeriod ends 1 hour or less on or before start of Visit.relevantPeriod\n\t\t\t\tsort by \n\t\t\t\tend of relevantPeriod\n\t\t),\n\t\tVisitStart: Coalesce(start of ObsVisit.relevantPeriod, start of Visit.relevantPeriod),\n\t\tEDVisit: Last([\"Encounter, Performed\": \"Emergency Department Visit\"] LastED\n\t\t\t\twhere LastED.relevantPeriod ends 1 hour or less on or before VisitStart\n\t\t\t\tsort by \n\t\t\t\tend of relevantPeriod\n\t\t)\n\t\treturn Interval[Coalesce(start of EDVisit.relevantPeriod, VisitStart), \n\t\tend of Visit.relevantPeriod]\n\n","elm":{"library":{"identifier":{"id":"MATGlobalCommonFunctions","version":"4.0.000"},"schemaIdentifier":{"id":"urn:hl7-org:elm","version":"r1"},"usings":{"def":[{"localIdentifier":"System","uri":"urn:hl7-org:elm-types:r1"},{"localId":"1","locator":"5:1-5:23","localIdentifier":"QDM","uri":"urn:healthit-gov:qdm:v5_4","version":"5.4"}]},"parameters":{"def":[{"localId":"9","locator":"13:1-13:49","name":"Measurement Period","accessLevel":"Public","parameterTypeSpecifier":{"localId":"8","locator":"13:32-13:49","type":"IntervalTypeSpecifier","pointType":{"localId":"7","locator":"13:41-13:48","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},"valueSets":{"def":[{"localId":"2","locator":"7:1-7:82","name":"Emergency Department Visit","id":"2.16.840.1.113883.3.117.1.7.1.292","accessLevel":"Public"},{"localId":"3","locator":"8:1-8:71","name":"Encounter Inpatient","id":"2.16.840.1.113883.3.666.5.307","accessLevel":"Public"},{"localId":"4","locator":"9:1-9:71","name":"Intensive Care Unit","id":"2.16.840.1.113762.1.4.1110.23","accessLevel":"Public"},{"localId":"5","locator":"10:1-10:73","name":"Observation Services","id":"2.16.840.1.113762.1.4.1111.143","accessLevel":"Public"},{"localId":"6","locator":"11:1-11:78","name":"Outpatient Surgery Service","id":"2.16.840.1.113762.1.4.1110.38","accessLevel":"Public"}]},"statements":{"def":[{"locator":"15:1-15:15","name":"Patient","context":"Patient","expression":{"type":"SingletonFrom","operand":{"locator":"15:1-15:15","dataType":"{urn:healthit-gov:qdm:v5_4}Patient","templateId":"Patient","type":"Retrieve"}}},{"localId":"21","locator":"54:1-55:59","name":"LengthInDays","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"21","s":[{"value":["define function ","\"LengthInDays\"","(","Value"," "]},{"r":"15","s":[{"value":["Interval\u003c"]},{"r":"14","s":[{"value":["DateTime"]}]},{"value":["\u003e"]}]},{"value":[" ):\n\t"]},{"r":"20","s":[{"r":"20","s":[{"value":["difference in days between "]},{"r":"17","s":[{"value":["start of "]},{"r":"16","s":[{"value":["Value"]}]}]},{"value":[" and "]},{"r":"19","s":[{"value":["end of "]},{"r":"18","s":[{"value":["Value"]}]}]}]}]}]}}],"expression":{"localId":"20","locator":"55:2-55:59","precision":"Day","type":"DifferenceBetween","operand":[{"localId":"17","locator":"55:29-55:42","type":"Start","operand":{"localId":"16","locator":"55:38-55:42","name":"Value","type":"OperandRef"}},{"localId":"19","locator":"55:48-55:59","type":"End","operand":{"localId":"18","locator":"55:55-55:59","name":"Value","type":"OperandRef"}}]},"operand":[{"name":"Value","operandTypeSpecifier":{"localId":"15","locator":"54:38-54:55","type":"IntervalTypeSpecifier","pointType":{"localId":"14","locator":"54:47-54:54","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}}]},{"localId":"31","locator":"17:1-20:73","name":"Inpatient Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"31","s":[{"value":["define ","\"Inpatient Encounter\"",":\n\t"]},{"r":"30","s":[{"s":[{"r":"11","s":[{"r":"10","s":[{"r":"10","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Encounter Inpatient\""]}]},{"value":["]"]}]}]},{"value":[" ","EncounterInpatient"]}]}]},{"value":["\n\t\t"]},{"r":"29","s":[{"value":["where "]},{"r":"29","s":[{"r":"24","s":[{"r":"22","s":[{"value":["\"LengthInDays\"","("]},{"r":"13","s":[{"r":"12","s":[{"value":["EncounterInpatient"]}]},{"value":["."]},{"r":"13","s":[{"value":["relevantPeriod"]}]}]},{"value":[")"]}]},{"value":["\u003c="," ","120"]}]},{"value":["\n\t\t\tand "]},{"r":"28","s":[{"r":"26","s":[{"r":"25","s":[{"value":["EncounterInpatient"]}]},{"value":["."]},{"r":"26","s":[{"value":["relevantPeriod"]}]}]},{"value":[" ","ends during"," "]},{"r":"27","s":[{"value":["\"Measurement Period\""]}]}]}]}]}]}]}}],"expression":{"localId":"30","locator":"18:2-20:73","type":"Query","source":[{"localId":"11","locator":"18:2-18:67","alias":"EncounterInpatient","expression":{"localId":"10","locator":"18:2-18:48","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Encounter Inpatient","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"29","locator":"19:3-20:73","type":"And","operand":[{"localId":"24","locator":"19:9-19:63","type":"LessOrEqual","operand":[{"localId":"22","locator":"19:9-19:57","name":"LengthInDays","type":"FunctionRef","operand":[{"localId":"13","locator":"19:24-19:56","path":"relevantPeriod","scope":"EncounterInpatient","type":"Property"}]},{"localId":"23","locator":"19:61-19:63","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"120","type":"Literal"}]},{"localId":"28","locator":"20:8-20:73","type":"In","operand":[{"locator":"20:42-20:45","type":"End","operand":{"localId":"26","locator":"20:8-20:40","path":"relevantPeriod","scope":"EncounterInpatient","type":"Property"}},{"localId":"27","locator":"20:54-20:73","name":"Measurement Period","type":"ParameterRef"}]}]}}},{"localId":"33","locator":"22:1-23:55","name":"ED Encounter","context":"Patient","accessLevel":"Public","annotation":[{"type":"Annotation","s":{"r":"33","s":[{"value":["define ","\"ED Encounter\"",":\n\t"]},{"r":"32","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]}}],"expression":{"localId":"32","locator":"23:2-23:55","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Emergency Department Visit","type":"ValueSetRef"}}},{"localId":"48","locator":"26:1-27:93","name":"ToDate","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"48","s":[{"value":["define function ","\"ToDate\"","(","Value"," "]},{"r":"34","s":[{"value":["DateTime"]}]},{"value":[" ):\n\t"]},{"r":"47","s":[{"r":"47","s":[{"value":["DateTime","("]},{"r":"36","s":[{"value":["year from "]},{"r":"35","s":[{"value":["Value"]}]}]},{"value":[", "]},{"r":"38","s":[{"value":["month from "]},{"r":"37","s":[{"value":["Value"]}]}]},{"value":[", "]},{"r":"40","s":[{"value":["day from "]},{"r":"39","s":[{"value":["Value"]}]}]},{"value":[", ","0",", ","0",", ","0",", ","0",", "]},{"r":"46","s":[{"value":["timezone from "]},{"r":"45","s":[{"value":["Value"]}]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"47","locator":"27:2-27:93","type":"DateTime","year":{"localId":"36","locator":"27:11-27:25","precision":"Year","type":"DateTimeComponentFrom","operand":{"localId":"35","locator":"27:21-27:25","name":"Value","type":"OperandRef"}},"month":{"localId":"38","locator":"27:28-27:43","precision":"Month","type":"DateTimeComponentFrom","operand":{"localId":"37","locator":"27:39-27:43","name":"Value","type":"OperandRef"}},"day":{"localId":"40","locator":"27:46-27:59","precision":"Day","type":"DateTimeComponentFrom","operand":{"localId":"39","locator":"27:55-27:59","name":"Value","type":"OperandRef"}},"hour":{"localId":"41","locator":"27:62","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0","type":"Literal"},"minute":{"localId":"42","locator":"27:65","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0","type":"Literal"},"second":{"localId":"43","locator":"27:68","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0","type":"Literal"},"millisecond":{"localId":"44","locator":"27:71","valueType":"{urn:hl7-org:elm-types:r1}Integer","value":"0","type":"Literal"},"timezoneOffset":{"localId":"46","locator":"27:74-27:92","type":"TimezoneFrom","operand":{"localId":"45","locator":"27:88-27:92","name":"Value","type":"OperandRef"}}},"operand":[{"name":"Value","operandTypeSpecifier":{"localId":"34","locator":"26:32-26:39","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]},{"localId":"56","locator":"30:1-31:51","name":"CalendarAgeInDaysAt","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"56","s":[{"value":["define function ","\"CalendarAgeInDaysAt\"","(","BirthDateTime"," "]},{"r":"49","s":[{"value":["DateTime"]}]},{"value":[", ","AsOf"," "]},{"r":"50","s":[{"value":["DateTime"]}]},{"value":[" ):\n\t"]},{"r":"55","s":[{"r":"55","s":[{"value":["days between "]},{"r":"52","s":[{"value":["ToDate","("]},{"r":"51","s":[{"value":["BirthDateTime"]}]},{"value":[")"]}]},{"value":["and "]},{"r":"54","s":[{"value":["ToDate","("]},{"r":"53","s":[{"value":["AsOf"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"55","locator":"31:2-31:51","precision":"Day","type":"DurationBetween","operand":[{"localId":"52","locator":"31:15-31:35","name":"ToDate","type":"FunctionRef","operand":[{"localId":"51","locator":"31:22-31:34","name":"BirthDateTime","type":"OperandRef"}]},{"localId":"54","locator":"31:40-31:51","name":"ToDate","type":"FunctionRef","operand":[{"localId":"53","locator":"31:47-31:50","name":"AsOf","type":"OperandRef"}]}]},"operand":[{"name":"BirthDateTime","operandTypeSpecifier":{"localId":"49","locator":"30:53-30:60","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"AsOf","operandTypeSpecifier":{"localId":"50","locator":"30:68-30:75","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]},{"localId":"61","locator":"34:1-35:44","name":"CalendarAgeInDays","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"61","s":[{"value":["define function ","\"CalendarAgeInDays\"","(","BirthDateTime"," "]},{"r":"57","s":[{"value":["DateTime"]}]},{"value":[" ):\n\t"]},{"r":"60","s":[{"r":"60","s":[{"value":["CalendarAgeInDaysAt","("]},{"r":"58","s":[{"value":["BirthDateTime"]}]},{"value":[", "]},{"r":"59","s":[{"value":["Today","()"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"60","locator":"35:2-35:44","name":"CalendarAgeInDaysAt","type":"FunctionRef","operand":[{"localId":"58","locator":"35:22-35:34","name":"BirthDateTime","type":"OperandRef"},{"type":"ToDateTime","operand":{"localId":"59","locator":"35:37-35:43","type":"Today"}}]},"operand":[{"name":"BirthDateTime","operandTypeSpecifier":{"localId":"57","locator":"34:51-34:58","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]},{"localId":"69","locator":"38:1-39:53","name":"CalendarAgeInMonthsAt","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"69","s":[{"value":["define function ","\"CalendarAgeInMonthsAt\"","(","BirthDateTime"," "]},{"r":"62","s":[{"value":["DateTime"]}]},{"value":[", ","AsOf"," "]},{"r":"63","s":[{"value":["DateTime"]}]},{"value":[" ):\n\t"]},{"r":"68","s":[{"r":"68","s":[{"value":["months between "]},{"r":"65","s":[{"value":["ToDate","("]},{"r":"64","s":[{"value":["BirthDateTime"]}]},{"value":[")"]}]},{"value":["and "]},{"r":"67","s":[{"value":["ToDate","("]},{"r":"66","s":[{"value":["AsOf"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"68","locator":"39:2-39:53","precision":"Month","type":"DurationBetween","operand":[{"localId":"65","locator":"39:17-39:37","name":"ToDate","type":"FunctionRef","operand":[{"localId":"64","locator":"39:24-39:36","name":"BirthDateTime","type":"OperandRef"}]},{"localId":"67","locator":"39:42-39:53","name":"ToDate","type":"FunctionRef","operand":[{"localId":"66","locator":"39:49-39:52","name":"AsOf","type":"OperandRef"}]}]},"operand":[{"name":"BirthDateTime","operandTypeSpecifier":{"localId":"62","locator":"38:55-38:62","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"AsOf","operandTypeSpecifier":{"localId":"63","locator":"38:70-38:77","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]},{"localId":"74","locator":"42:1-43:46","name":"CalendarAgeInMonths","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"74","s":[{"value":["define function ","\"CalendarAgeInMonths\"","(","BirthDateTime"," "]},{"r":"70","s":[{"value":["DateTime"]}]},{"value":[" ):\n\t"]},{"r":"73","s":[{"r":"73","s":[{"value":["CalendarAgeInMonthsAt","("]},{"r":"71","s":[{"value":["BirthDateTime"]}]},{"value":[", "]},{"r":"72","s":[{"value":["Today","()"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"73","locator":"43:2-43:46","name":"CalendarAgeInMonthsAt","type":"FunctionRef","operand":[{"localId":"71","locator":"43:24-43:36","name":"BirthDateTime","type":"OperandRef"},{"type":"ToDateTime","operand":{"localId":"72","locator":"43:39-43:45","type":"Today"}}]},"operand":[{"name":"BirthDateTime","operandTypeSpecifier":{"localId":"70","locator":"42:53-42:60","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]},{"localId":"82","locator":"46:1-47:52","name":"CalendarAgeInYearsAt","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"82","s":[{"value":["define function ","\"CalendarAgeInYearsAt\"","(","BirthDateTime"," "]},{"r":"75","s":[{"value":["DateTime"]}]},{"value":[", ","AsOf"," "]},{"r":"76","s":[{"value":["DateTime"]}]},{"value":[" ):\n\t"]},{"r":"81","s":[{"r":"81","s":[{"value":["years between "]},{"r":"78","s":[{"value":["ToDate","("]},{"r":"77","s":[{"value":["BirthDateTime"]}]},{"value":[")"]}]},{"value":["and "]},{"r":"80","s":[{"value":["ToDate","("]},{"r":"79","s":[{"value":["AsOf"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"81","locator":"47:2-47:52","precision":"Year","type":"DurationBetween","operand":[{"localId":"78","locator":"47:16-47:36","name":"ToDate","type":"FunctionRef","operand":[{"localId":"77","locator":"47:23-47:35","name":"BirthDateTime","type":"OperandRef"}]},{"localId":"80","locator":"47:41-47:52","name":"ToDate","type":"FunctionRef","operand":[{"localId":"79","locator":"47:48-47:51","name":"AsOf","type":"OperandRef"}]}]},"operand":[{"name":"BirthDateTime","operandTypeSpecifier":{"localId":"75","locator":"46:54-46:61","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}},{"name":"AsOf","operandTypeSpecifier":{"localId":"76","locator":"46:69-46:76","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]},{"localId":"87","locator":"50:1-51:45","name":"CalendarAgeInYears","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"87","s":[{"value":["define function ","\"CalendarAgeInYears\"","(","BirthDateTime"," "]},{"r":"83","s":[{"value":["DateTime"]}]},{"value":[" ):\n\t"]},{"r":"86","s":[{"r":"86","s":[{"value":["CalendarAgeInYearsAt","("]},{"r":"84","s":[{"value":["BirthDateTime"]}]},{"value":[", "]},{"r":"85","s":[{"value":["Today","()"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"86","locator":"51:2-51:45","name":"CalendarAgeInYearsAt","type":"FunctionRef","operand":[{"localId":"84","locator":"51:23-51:35","name":"BirthDateTime","type":"OperandRef"},{"type":"ToDateTime","operand":{"localId":"85","locator":"51:38-51:44","type":"Today"}}]},"operand":[{"name":"BirthDateTime","operandTypeSpecifier":{"localId":"83","locator":"50:52-50:59","name":"{urn:hl7-org:elm-types:r1}DateTime","type":"NamedTypeSpecifier"}}]},{"localId":"123","locator":"58:1-66:70","name":"HospitalizationLocations","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"123","s":[{"value":["define function ","\"HospitalizationLocations\"","(","Encounter"," "]},{"r":"91","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n\t"]},{"r":"122","s":[{"r":"122","s":[{"s":[{"r":"93","s":[{"r":"92","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n\t\t"]},{"s":[{"value":["let "]},{"r":"109","s":[{"value":["EDVisit",": "]},{"r":"108","s":[{"value":["Last","("]},{"r":"107","s":[{"s":[{"r":"95","s":[{"r":"94","s":[{"r":"94","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n\t\t\t\t"]},{"r":"102","s":[{"value":["where "]},{"r":"102","s":[{"r":"97","s":[{"r":"96","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"97","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"102","s":[{"value":["ends "]},{"r":"101","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"100","s":[{"value":["start of "]},{"r":"99","s":[{"r":"98","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"99","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n\t\t\t\t"]},{"r":"106","s":[{"value":["sort by \n\t\t\t\t"]},{"r":"105","s":[{"r":"104","s":[{"value":["end of "]},{"r":"103","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n\t\t)"]}]}]}]},{"value":["\n\t\t"]},{"r":"121","s":[{"value":["return "]},{"r":"120","s":[{"value":["if "]},{"r":"111","s":[{"r":"110","s":[{"value":["EDVisit"]}]},{"value":[" is null"]}]},{"value":[" then "]},{"r":"113","s":[{"r":"112","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"113","s":[{"value":["facilityLocations"]}]}]},{"value":[" \n\t\t\telse "]},{"r":"119","s":[{"value":["flatten "]},{"r":"118","s":[{"value":["{ "]},{"r":"115","s":[{"r":"114","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"115","s":[{"value":["facilityLocations"]}]}]},{"value":[", "]},{"r":"117","s":[{"r":"116","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"117","s":[{"value":["facilityLocations"]}]}]},{"value":[" }"]}]}]}]}]}]}]}]}}],"expression":{"localId":"122","locator":"59:2-66:70","type":"Query","source":[{"localId":"93","locator":"59:2-59:16","alias":"Visit","expression":{"localId":"92","locator":"59:2-59:10","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"109","locator":"60:7-64:3","identifier":"EDVisit","expression":{"localId":"108","locator":"60:16-64:3","type":"Last","source":{"localId":"107","locator":"60:21-63:25","type":"Query","source":[{"localId":"95","locator":"60:21-60:81","alias":"LastED","expression":{"localId":"94","locator":"60:21-60:74","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Emergency Department Visit","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"102","locator":"61:5-61:94","type":"In","operand":[{"locator":"61:33-61:36","type":"End","operand":{"localId":"97","locator":"61:11-61:31","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"61:38-61:51","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"61:66-61:94","type":"Subtract","operand":[{"localId":"100","locator":"61:66-61:94","type":"Start","operand":{"localId":"99","locator":"61:75-61:94","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"101","locator":"61:38-61:43","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"100","locator":"61:66-61:94","type":"Start","operand":{"localId":"99","locator":"61:75-61:94","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},"sort":{"localId":"106","locator":"62:5-63:25","by":[{"localId":"105","locator":"63:5-63:25","direction":"asc","type":"ByExpression","expression":{"localId":"104","locator":"63:5-63:25","type":"End","operand":{"localId":"103","locator":"63:12-63:25","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"121","locator":"65:3-66:70","expression":{"localId":"120","locator":"65:10-66:70","type":"If","condition":{"asType":"{urn:hl7-org:elm-types:r1}Boolean","type":"As","operand":{"localId":"111","locator":"65:13-65:27","type":"IsNull","operand":{"localId":"110","locator":"65:13-65:19","name":"EDVisit","type":"QueryLetRef"}}},"then":{"localId":"113","locator":"65:34-65:56","path":"facilityLocations","scope":"Visit","type":"Property"},"else":{"localId":"119","locator":"66:9-66:70","type":"Flatten","operand":{"localId":"118","locator":"66:17-66:70","type":"List","element":[{"localId":"115","locator":"66:19-66:43","path":"facilityLocations","type":"Property","source":{"localId":"114","locator":"66:19-66:25","name":"EDVisit","type":"QueryLetRef"}},{"localId":"117","locator":"66:46-66:68","path":"facilityLocations","scope":"Visit","type":"Property"}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"91","locator":"58:54-58:75","name":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"140","locator":"70:1-74:17","name":"EmergencyDepartmentArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"140","s":[{"value":["define function ","\"EmergencyDepartmentArrivalTime\"","(","Encounter"," "]},{"r":"124","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n\t"]},{"r":"139","s":[{"r":"139","s":[{"value":["start of "]},{"r":"138","s":[{"r":"137","s":[{"value":["First","("]},{"r":"136","s":[{"s":[{"r":"127","s":[{"r":"126","s":[{"value":["("]},{"r":"126","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"125","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n\t\t\t"]},{"r":"131","s":[{"value":["where "]},{"r":"131","s":[{"r":"129","s":[{"r":"128","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"129","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"130","s":[{"value":["\"Emergency Department Visit\""]}]}]}]},{"value":["\n\t\t\t"]},{"r":"135","s":[{"value":["sort by "]},{"r":"134","s":[{"r":"133","s":[{"value":["start of "]},{"r":"132","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n\t)"]}]},{"value":["."]},{"r":"138","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"139","locator":"71:2-74:17","type":"Start","operand":{"localId":"138","locator":"71:11-74:17","path":"locationPeriod","type":"Property","source":{"localId":"137","locator":"71:11-74:2","type":"First","source":{"localId":"136","locator":"71:17-73:34","type":"Query","source":[{"localId":"127","locator":"71:17-71:71","alias":"HospitalLocation","expression":{"localId":"126","locator":"71:17-71:55","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"125","locator":"71:45-71:53","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"where":{"localId":"131","locator":"72:4-72:62","type":"InValueSet","code":{"localId":"129","locator":"72:10-72:30","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"130","locator":"72:35-72:62","name":"Emergency Department Visit"}},"sort":{"localId":"135","locator":"73:4-73:34","by":[{"localId":"134","locator":"73:12-73:34","direction":"asc","type":"ByExpression","expression":{"localId":"133","locator":"73:12-73:34","type":"Start","operand":{"localId":"132","locator":"73:21-73:34","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"124","locator":"70:60-70:81","name":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"161","locator":"79:1-84:2","name":"FirstInpatientIntensiveCareUnit","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"161","s":[{"value":["define function ","\"FirstInpatientIntensiveCareUnit\"","(","Encounter"," "]},{"r":"141","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n\t"]},{"r":"160","s":[{"r":"160","s":[{"value":["First","("]},{"r":"159","s":[{"s":[{"r":"144","s":[{"r":"143","s":[{"value":["("]},{"r":"143","s":[{"r":"142","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"143","s":[{"value":["facilityLocations"]}]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n\t\t\t"]},{"r":"154","s":[{"value":["where "]},{"r":"154","s":[{"r":"148","s":[{"r":"146","s":[{"r":"145","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"146","s":[{"value":["code"]}]}]},{"value":[" in "]},{"r":"147","s":[{"value":["\"Intensive Care Unit\""]}]}]},{"value":["\n\t\t\t\tand "]},{"r":"153","s":[{"r":"150","s":[{"r":"149","s":[{"value":["HospitalLocation"]}]},{"value":["."]},{"r":"150","s":[{"value":["locationPeriod"]}]}]},{"value":[" ","during"," "]},{"r":"152","s":[{"r":"151","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"152","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n\t\t\t"]},{"r":"158","s":[{"value":["sort by "]},{"r":"157","s":[{"r":"156","s":[{"value":["start of "]},{"r":"155","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n\t)"]}]}]}]}}],"expression":{"localId":"160","locator":"80:2-84:2","type":"First","source":{"localId":"159","locator":"80:8-83:34","type":"Query","source":[{"localId":"144","locator":"80:8-80:52","alias":"HospitalLocation","expression":{"localId":"143","locator":"80:8-80:36","path":"facilityLocations","type":"Property","source":{"localId":"142","locator":"80:9-80:17","name":"Encounter","type":"OperandRef"}}}],"relationship":[],"where":{"localId":"154","locator":"81:4-82:71","type":"And","operand":[{"localId":"148","locator":"81:10-81:55","type":"InValueSet","code":{"localId":"146","locator":"81:10-81:30","path":"code","scope":"HospitalLocation","type":"Property"},"valueset":{"localId":"147","locator":"81:35-81:55","name":"Intensive Care Unit"}},{"localId":"153","locator":"82:9-82:71","type":"IncludedIn","operand":[{"localId":"150","locator":"82:9-82:39","path":"locationPeriod","scope":"HospitalLocation","type":"Property"},{"localId":"152","locator":"82:48-82:71","path":"relevantPeriod","type":"Property","source":{"localId":"151","locator":"82:48-82:56","name":"Encounter","type":"OperandRef"}}]}]},"sort":{"localId":"158","locator":"83:4-83:34","by":[{"localId":"157","locator":"83:12-83:34","direction":"asc","type":"ByExpression","expression":{"localId":"156","locator":"83:12-83:34","type":"Start","operand":{"localId":"155","locator":"83:21-83:34","name":"locationPeriod","type":"IdentifierRef"}}}]}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"141","locator":"79:61-79:82","name":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"196","locator":"97:1-105:30","name":"Hospitalization","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"196","s":[{"value":["define function ","\"Hospitalization\"","(","Encounter"," "]},{"r":"164","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n\t"]},{"r":"195","s":[{"r":"195","s":[{"s":[{"r":"166","s":[{"r":"165","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n\t\t"]},{"s":[{"value":["let "]},{"r":"182","s":[{"value":["EDVisit",": "]},{"r":"181","s":[{"value":["Last","("]},{"r":"180","s":[{"s":[{"r":"168","s":[{"r":"167","s":[{"r":"167","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n\t\t\t\t"]},{"r":"175","s":[{"value":["where "]},{"r":"175","s":[{"r":"170","s":[{"r":"169","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"170","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"175","s":[{"value":["ends "]},{"r":"174","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"173","s":[{"value":["start of "]},{"r":"172","s":[{"r":"171","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"172","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n\t\t\t\t"]},{"r":"179","s":[{"value":["sort by \n\t\t\t\t"]},{"r":"178","s":[{"r":"177","s":[{"value":["end of "]},{"r":"176","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n\t\t)"]}]}]}]},{"value":["\n\t\t"]},{"r":"194","s":[{"value":["return "]},{"r":"193","s":[{"value":["Interval["]},{"r":"189","s":[{"value":["Coalesce","("]},{"r":"185","s":[{"value":["start of "]},{"r":"184","s":[{"r":"183","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"184","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"188","s":[{"value":["start of "]},{"r":"187","s":[{"r":"186","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"187","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]},{"value":[", \n\t\t"]},{"r":"192","s":[{"value":["end of "]},{"r":"191","s":[{"r":"190","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"191","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"195","locator":"98:2-105:30","type":"Query","source":[{"localId":"166","locator":"98:2-98:16","alias":"Visit","expression":{"localId":"165","locator":"98:2-98:10","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"182","locator":"99:7-103:3","identifier":"EDVisit","expression":{"localId":"181","locator":"99:16-103:3","type":"Last","source":{"localId":"180","locator":"99:21-102:25","type":"Query","source":[{"localId":"168","locator":"99:21-99:81","alias":"LastED","expression":{"localId":"167","locator":"99:21-99:74","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Emergency Department Visit","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"175","locator":"100:5-100:94","type":"In","operand":[{"locator":"100:33-100:36","type":"End","operand":{"localId":"170","locator":"100:11-100:31","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"100:38-100:51","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"100:66-100:94","type":"Subtract","operand":[{"localId":"173","locator":"100:66-100:94","type":"Start","operand":{"localId":"172","locator":"100:75-100:94","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"174","locator":"100:38-100:43","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"173","locator":"100:66-100:94","type":"Start","operand":{"localId":"172","locator":"100:75-100:94","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},"sort":{"localId":"179","locator":"101:5-102:25","by":[{"localId":"178","locator":"102:5-102:25","direction":"asc","type":"ByExpression","expression":{"localId":"177","locator":"102:5-102:25","type":"End","operand":{"localId":"176","locator":"102:12-102:25","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"194","locator":"104:3-105:30","expression":{"localId":"193","locator":"104:10-105:30","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"189","locator":"104:19-104:90","type":"Coalesce","operand":[{"localId":"185","locator":"104:28-104:58","type":"Start","operand":{"localId":"184","locator":"104:37-104:58","path":"relevantPeriod","type":"Property","source":{"localId":"183","locator":"104:37-104:43","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"188","locator":"104:61-104:89","type":"Start","operand":{"localId":"187","locator":"104:70-104:89","path":"relevantPeriod","scope":"Visit","type":"Property"}}]},"high":{"localId":"192","locator":"105:3-105:29","type":"End","operand":{"localId":"191","locator":"105:10-105:29","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"164","locator":"97:45-97:66","name":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"199","locator":"87:1-88:38","name":"HospitalAdmissionTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"199","s":[{"value":["define function ","\"HospitalAdmissionTime\"","(","Encounter"," "]},{"r":"162","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n\t"]},{"r":"198","s":[{"r":"198","s":[{"value":["start of "]},{"r":"197","s":[{"value":["\"Hospitalization\"","("]},{"r":"163","s":[{"value":["Encounter"]}]},{"value":[")"]}]}]}]}]}}],"expression":{"localId":"198","locator":"88:2-88:38","type":"Start","operand":{"localId":"197","locator":"88:11-88:38","name":"Hospitalization","type":"FunctionRef","operand":[{"localId":"163","locator":"88:29-88:37","name":"Encounter","type":"OperandRef"}]}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"162","locator":"87:51-87:72","name":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"212","locator":"91:1-94:17","name":"HospitalArrivalTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"212","s":[{"value":["define function ","\"HospitalArrivalTime\"","(","Encounter"," "]},{"r":"200","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n\t"]},{"r":"211","s":[{"r":"211","s":[{"value":["start of "]},{"r":"210","s":[{"r":"209","s":[{"value":["First","("]},{"r":"208","s":[{"s":[{"r":"203","s":[{"r":"202","s":[{"value":["("]},{"r":"202","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"201","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n\t\t\t"]},{"r":"207","s":[{"value":["sort by "]},{"r":"206","s":[{"r":"205","s":[{"value":["start of "]},{"r":"204","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n\t)"]}]},{"value":["."]},{"r":"210","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"211","locator":"92:2-94:17","type":"Start","operand":{"localId":"210","locator":"92:11-94:17","path":"locationPeriod","type":"Property","source":{"localId":"209","locator":"92:11-94:2","type":"First","source":{"localId":"208","locator":"92:17-93:34","type":"Query","source":[{"localId":"203","locator":"92:17-92:71","alias":"HospitalLocation","expression":{"localId":"202","locator":"92:17-92:55","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"201","locator":"92:45-92:53","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"sort":{"localId":"207","locator":"93:4-93:34","by":[{"localId":"206","locator":"93:12-93:34","direction":"asc","type":"ByExpression","expression":{"localId":"205","locator":"93:12-93:34","type":"Start","operand":{"localId":"204","locator":"93:21-93:34","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"200","locator":"91:49-91:70","name":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"219","locator":"108:1-109:43","name":"HospitalizationLengthofStay","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"219","s":[{"value":["define function ","\"HospitalizationLengthofStay\"","(","Encounter"," "]},{"r":"215","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n\t"]},{"r":"218","s":[{"r":"218","s":[{"value":["LengthInDays","("]},{"r":"217","s":[{"value":["\"Hospitalization\"","("]},{"r":"216","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]}]}]}}],"expression":{"localId":"218","locator":"109:2-109:43","name":"LengthInDays","type":"FunctionRef","operand":[{"localId":"217","locator":"109:15-109:42","name":"Hospitalization","type":"FunctionRef","operand":[{"localId":"216","locator":"109:33-109:41","name":"Encounter","type":"OperandRef"}]}]},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"215","locator":"108:57-108:78","name":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"232","locator":"112:1-115:17","name":"HospitalDepartureTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"232","s":[{"value":["define function ","\"HospitalDepartureTime\"","(","Encounter"," "]},{"r":"220","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n\t"]},{"r":"231","s":[{"r":"231","s":[{"value":["end of "]},{"r":"230","s":[{"r":"229","s":[{"value":["Last","("]},{"r":"228","s":[{"s":[{"r":"223","s":[{"r":"222","s":[{"value":["("]},{"r":"222","s":[{"value":["\"HospitalizationLocations\"","("]},{"r":"221","s":[{"value":["Encounter"]}]},{"value":[")"]}]},{"value":[")"]}]},{"value":["HospitalLocation"]}]}]},{"value":["\n\t\t\t"]},{"r":"227","s":[{"value":["sort by "]},{"r":"226","s":[{"r":"225","s":[{"value":["start of "]},{"r":"224","s":[{"value":["locationPeriod"]}]}]}]}]}]},{"value":["\n\t)"]}]},{"value":["."]},{"r":"230","s":[{"value":["locationPeriod"]}]}]}]}]}]}}],"expression":{"localId":"231","locator":"113:2-115:17","type":"End","operand":{"localId":"230","locator":"113:9-115:17","path":"locationPeriod","type":"Property","source":{"localId":"229","locator":"113:9-115:2","type":"Last","source":{"localId":"228","locator":"113:14-114:34","type":"Query","source":[{"localId":"223","locator":"113:14-113:68","alias":"HospitalLocation","expression":{"localId":"222","locator":"113:14-113:52","name":"HospitalizationLocations","type":"FunctionRef","operand":[{"localId":"221","locator":"113:42-113:50","name":"Encounter","type":"OperandRef"}]}}],"relationship":[],"sort":{"localId":"227","locator":"114:4-114:34","by":[{"localId":"226","locator":"114:12-114:34","direction":"asc","type":"ByExpression","expression":{"localId":"225","locator":"114:12-114:34","type":"Start","operand":{"localId":"224","locator":"114:21-114:34","name":"locationPeriod","type":"IdentifierRef"}}}]}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"220","locator":"112:51-112:72","name":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"237","locator":"118:1-119:32","name":"HospitalDischargeTime","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"237","s":[{"value":["define function ","\"HospitalDischargeTime\"","(","Encounter"," "]},{"r":"233","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n\t"]},{"r":"236","s":[{"r":"236","s":[{"value":["end of "]},{"r":"235","s":[{"r":"234","s":[{"value":["Encounter"]}]},{"value":["."]},{"r":"235","s":[{"value":["relevantPeriod"]}]}]}]}]}]}}],"expression":{"localId":"236","locator":"119:2-119:32","type":"End","operand":{"localId":"235","locator":"119:9-119:32","path":"relevantPeriod","type":"Property","source":{"localId":"234","locator":"119:9-119:17","name":"Encounter","type":"OperandRef"}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"233","locator":"118:51-118:72","name":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"310","locator":"122:1-142:30","name":"HospitalizationWithObservationAndOutpatientSurgeryService","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"310","s":[{"value":["define function ","\"HospitalizationWithObservationAndOutpatientSurgeryService\"","(","Encounter"," "]},{"r":"238","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n\t"]},{"r":"309","s":[{"r":"309","s":[{"s":[{"r":"240","s":[{"r":"239","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n\t\t"]},{"s":[{"value":["let "]},{"r":"256","s":[{"value":["ObsVisit",": "]},{"r":"255","s":[{"value":["Last","("]},{"r":"254","s":[{"s":[{"r":"242","s":[{"r":"241","s":[{"r":"241","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n\t\t\t\t"]},{"r":"249","s":[{"value":["where "]},{"r":"249","s":[{"r":"244","s":[{"r":"243","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"244","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"249","s":[{"value":["ends "]},{"r":"248","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"247","s":[{"value":["start of "]},{"r":"246","s":[{"r":"245","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"246","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n\t\t\t\t"]},{"r":"253","s":[{"value":["sort by \n\t\t\t\t"]},{"r":"252","s":[{"r":"251","s":[{"value":["end of "]},{"r":"250","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n\t\t)"]}]}]},{"value":[",\n\t\t"]},{"r":"264","s":[{"value":["VisitStart",": "]},{"r":"263","s":[{"value":["Coalesce","("]},{"r":"259","s":[{"value":["start of "]},{"r":"258","s":[{"r":"257","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"258","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"262","s":[{"value":["start of "]},{"r":"261","s":[{"r":"260","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"261","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n\t\t"]},{"r":"278","s":[{"value":["EDVisit",": "]},{"r":"277","s":[{"value":["Last","("]},{"r":"276","s":[{"s":[{"r":"266","s":[{"r":"265","s":[{"r":"265","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n\t\t\t\t"]},{"r":"271","s":[{"value":["where "]},{"r":"271","s":[{"r":"268","s":[{"r":"267","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"268","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"271","s":[{"value":["ends "]},{"r":"270","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"269","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n\t\t\t\t"]},{"r":"275","s":[{"value":["sort by \n\t\t\t\t"]},{"r":"274","s":[{"r":"273","s":[{"value":["end of "]},{"r":"272","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n\t\t)"]}]}]},{"value":[",\n\t\t"]},{"r":"284","s":[{"value":["VisitStartWithED",": "]},{"r":"283","s":[{"value":["Coalesce","("]},{"r":"281","s":[{"value":["start of "]},{"r":"280","s":[{"r":"279","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"280","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"282","s":[{"value":["VisitStart"]}]},{"value":[")"]}]}]},{"value":[",\n\t\t"]},{"r":"298","s":[{"value":["OutpatientSurgeryVisit",": "]},{"r":"297","s":[{"value":["Last","("]},{"r":"296","s":[{"s":[{"r":"286","s":[{"r":"285","s":[{"r":"285","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Outpatient Surgery Service\""]}]},{"value":["]"]}]}]},{"value":[" ","LastSurgeryOP"]}]}]},{"value":["\n\t\t\t\t"]},{"r":"291","s":[{"value":["where "]},{"r":"291","s":[{"r":"288","s":[{"r":"287","s":[{"value":["LastSurgeryOP"]}]},{"value":["."]},{"r":"288","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"291","s":[{"value":["ends "]},{"r":"290","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"289","s":[{"value":["VisitStartWithED"]}]}]}]},{"value":["\n\t\t\t\t"]},{"r":"295","s":[{"value":["sort by \n\t\t\t\t"]},{"r":"294","s":[{"r":"293","s":[{"value":["end of "]},{"r":"292","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n\t\t)"]}]}]}]},{"value":["\n\t\t"]},{"r":"308","s":[{"value":["return "]},{"r":"307","s":[{"value":["Interval["]},{"r":"303","s":[{"value":["Coalesce","("]},{"r":"301","s":[{"value":["start of "]},{"r":"300","s":[{"r":"299","s":[{"value":["OutpatientSurgeryVisit"]}]},{"value":["."]},{"r":"300","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"302","s":[{"value":["VisitStartWithED"]}]},{"value":[")"]}]},{"value":[", \n\t\t"]},{"r":"306","s":[{"value":["end of "]},{"r":"305","s":[{"r":"304","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"305","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"309","locator":"123:2-142:30","type":"Query","source":[{"localId":"240","locator":"123:2-123:16","alias":"Visit","expression":{"localId":"239","locator":"123:2-123:10","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"256","locator":"124:7-128:3","identifier":"ObsVisit","expression":{"localId":"255","locator":"124:17-128:3","type":"Last","source":{"localId":"254","locator":"124:22-127:25","type":"Query","source":[{"localId":"242","locator":"124:22-124:77","alias":"LastObs","expression":{"localId":"241","locator":"124:22-124:69","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Observation Services","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"249","locator":"125:5-125:95","type":"In","operand":[{"locator":"125:34-125:37","type":"End","operand":{"localId":"244","locator":"125:11-125:32","path":"relevantPeriod","scope":"LastObs","type":"Property"}},{"locator":"125:39-125:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"125:67-125:95","type":"Subtract","operand":[{"localId":"247","locator":"125:67-125:95","type":"Start","operand":{"localId":"246","locator":"125:76-125:95","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"248","locator":"125:39-125:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"247","locator":"125:67-125:95","type":"Start","operand":{"localId":"246","locator":"125:76-125:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},"sort":{"localId":"253","locator":"126:5-127:25","by":[{"localId":"252","locator":"127:5-127:25","direction":"asc","type":"ByExpression","expression":{"localId":"251","locator":"127:5-127:25","type":"End","operand":{"localId":"250","locator":"127:12-127:25","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"264","locator":"129:3-129:87","identifier":"VisitStart","expression":{"localId":"263","locator":"129:15-129:87","type":"Coalesce","operand":[{"localId":"259","locator":"129:24-129:55","type":"Start","operand":{"localId":"258","locator":"129:33-129:55","path":"relevantPeriod","type":"Property","source":{"localId":"257","locator":"129:33-129:40","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"262","locator":"129:58-129:86","type":"Start","operand":{"localId":"261","locator":"129:67-129:86","path":"relevantPeriod","scope":"Visit","type":"Property"}}]}},{"localId":"278","locator":"130:3-134:3","identifier":"EDVisit","expression":{"localId":"277","locator":"130:12-134:3","type":"Last","source":{"localId":"276","locator":"130:17-133:25","type":"Query","source":[{"localId":"266","locator":"130:17-130:77","alias":"LastED","expression":{"localId":"265","locator":"130:17-130:70","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Emergency Department Visit","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"271","locator":"131:5-131:75","type":"In","operand":[{"locator":"131:33-131:36","type":"End","operand":{"localId":"268","locator":"131:11-131:31","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"131:38-131:51","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"131:66-131:75","type":"Subtract","operand":[{"localId":"269","locator":"131:66-131:75","name":"VisitStart","type":"QueryLetRef"},{"localId":"270","locator":"131:38-131:43","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"269","locator":"131:66-131:75","name":"VisitStart","type":"QueryLetRef"}}]},"sort":{"localId":"275","locator":"132:5-133:25","by":[{"localId":"274","locator":"133:5-133:25","direction":"asc","type":"ByExpression","expression":{"localId":"273","locator":"133:5-133:25","type":"End","operand":{"localId":"272","locator":"133:12-133:25","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"284","locator":"135:3-135:73","identifier":"VisitStartWithED","expression":{"localId":"283","locator":"135:21-135:73","type":"Coalesce","operand":[{"localId":"281","locator":"135:30-135:60","type":"Start","operand":{"localId":"280","locator":"135:39-135:60","path":"relevantPeriod","type":"Property","source":{"localId":"279","locator":"135:39-135:45","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"282","locator":"135:63-135:72","name":"VisitStart","type":"QueryLetRef"}]}},{"localId":"298","locator":"136:3-140:3","identifier":"OutpatientSurgeryVisit","expression":{"localId":"297","locator":"136:27-140:3","type":"Last","source":{"localId":"296","locator":"136:32-139:25","type":"Query","source":[{"localId":"286","locator":"136:32-136:99","alias":"LastSurgeryOP","expression":{"localId":"285","locator":"136:32-136:85","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Outpatient Surgery Service","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"291","locator":"137:5-137:88","type":"In","operand":[{"locator":"137:40-137:43","type":"End","operand":{"localId":"288","locator":"137:11-137:38","path":"relevantPeriod","scope":"LastSurgeryOP","type":"Property"}},{"locator":"137:45-137:58","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"137:73-137:88","type":"Subtract","operand":[{"localId":"289","locator":"137:73-137:88","name":"VisitStartWithED","type":"QueryLetRef"},{"localId":"290","locator":"137:45-137:50","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"289","locator":"137:73-137:88","name":"VisitStartWithED","type":"QueryLetRef"}}]},"sort":{"localId":"295","locator":"138:5-139:25","by":[{"localId":"294","locator":"139:5-139:25","direction":"asc","type":"ByExpression","expression":{"localId":"293","locator":"139:5-139:25","type":"End","operand":{"localId":"292","locator":"139:12-139:25","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"308","locator":"141:3-142:30","expression":{"localId":"307","locator":"141:10-142:30","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"303","locator":"141:19-141:92","type":"Coalesce","operand":[{"localId":"301","locator":"141:28-141:73","type":"Start","operand":{"localId":"300","locator":"141:37-141:73","path":"relevantPeriod","type":"Property","source":{"localId":"299","locator":"141:37-141:58","name":"OutpatientSurgeryVisit","type":"QueryLetRef"}}},{"localId":"302","locator":"141:76-141:91","name":"VisitStartWithED","type":"QueryLetRef"}]},"high":{"localId":"306","locator":"142:3-142:29","type":"End","operand":{"localId":"305","locator":"142:10-142:29","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"238","locator":"122:87-122:108","name":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]},{"localId":"363","locator":"145:1-159:30","name":"HospitalizationWithObservation","context":"Patient","accessLevel":"Public","type":"FunctionDef","annotation":[{"type":"Annotation","s":{"r":"363","s":[{"value":["define function ","\"HospitalizationWithObservation\"","(","Encounter"," "]},{"r":"311","s":[{"value":["\"Encounter, Performed\""]}]},{"value":[" ):\n\t"]},{"r":"362","s":[{"r":"362","s":[{"s":[{"r":"313","s":[{"r":"312","s":[{"s":[{"value":["Encounter"]}]}]},{"value":[" ","Visit"]}]}]},{"value":["\n\t\t"]},{"s":[{"value":["let "]},{"r":"329","s":[{"value":["ObsVisit",": "]},{"r":"328","s":[{"value":["Last","("]},{"r":"327","s":[{"s":[{"r":"315","s":[{"r":"314","s":[{"r":"314","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Observation Services\""]}]},{"value":["]"]}]}]},{"value":[" ","LastObs"]}]}]},{"value":["\n\t\t\t\t"]},{"r":"322","s":[{"value":["where "]},{"r":"322","s":[{"r":"317","s":[{"r":"316","s":[{"value":["LastObs"]}]},{"value":["."]},{"r":"317","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"322","s":[{"value":["ends "]},{"r":"321","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"320","s":[{"value":["start of "]},{"r":"319","s":[{"r":"318","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"319","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n\t\t\t\t"]},{"r":"326","s":[{"value":["sort by \n\t\t\t\t"]},{"r":"325","s":[{"r":"324","s":[{"value":["end of "]},{"r":"323","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n\t\t)"]}]}]},{"value":[",\n\t\t"]},{"r":"337","s":[{"value":["VisitStart",": "]},{"r":"336","s":[{"value":["Coalesce","("]},{"r":"332","s":[{"value":["start of "]},{"r":"331","s":[{"r":"330","s":[{"value":["ObsVisit"]}]},{"value":["."]},{"r":"331","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"335","s":[{"value":["start of "]},{"r":"334","s":[{"r":"333","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"334","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[")"]}]}]},{"value":[",\n\t\t"]},{"r":"351","s":[{"value":["EDVisit",": "]},{"r":"350","s":[{"value":["Last","("]},{"r":"349","s":[{"s":[{"r":"339","s":[{"r":"338","s":[{"r":"338","s":[{"value":["[","\"Encounter, Performed\"",": "]},{"s":[{"value":["\"Emergency Department Visit\""]}]},{"value":["]"]}]}]},{"value":[" ","LastED"]}]}]},{"value":["\n\t\t\t\t"]},{"r":"344","s":[{"value":["where "]},{"r":"344","s":[{"r":"341","s":[{"r":"340","s":[{"value":["LastED"]}]},{"value":["."]},{"r":"341","s":[{"value":["relevantPeriod"]}]}]},{"value":[" "]},{"r":"344","s":[{"value":["ends "]},{"r":"343","s":[{"value":["1 ","hour"]}]},{"value":[" or less on or before"]}]},{"value":[" "]},{"r":"342","s":[{"value":["VisitStart"]}]}]}]},{"value":["\n\t\t\t\t"]},{"r":"348","s":[{"value":["sort by \n\t\t\t\t"]},{"r":"347","s":[{"r":"346","s":[{"value":["end of "]},{"r":"345","s":[{"value":["relevantPeriod"]}]}]}]}]}]},{"value":["\n\t\t)"]}]}]}]},{"value":["\n\t\t"]},{"r":"361","s":[{"value":["return "]},{"r":"360","s":[{"value":["Interval["]},{"r":"356","s":[{"value":["Coalesce","("]},{"r":"354","s":[{"value":["start of "]},{"r":"353","s":[{"r":"352","s":[{"value":["EDVisit"]}]},{"value":["."]},{"r":"353","s":[{"value":["relevantPeriod"]}]}]}]},{"value":[", "]},{"r":"355","s":[{"value":["VisitStart"]}]},{"value":[")"]}]},{"value":[", \n\t\t"]},{"r":"359","s":[{"value":["end of "]},{"r":"358","s":[{"r":"357","s":[{"value":["Visit"]}]},{"value":["."]},{"r":"358","s":[{"value":["relevantPeriod"]}]}]}]},{"value":["]"]}]}]}]}]}]}}],"expression":{"localId":"362","locator":"146:2-159:30","type":"Query","source":[{"localId":"313","locator":"146:2-146:16","alias":"Visit","expression":{"localId":"312","locator":"146:2-146:10","name":"Encounter","type":"OperandRef"}}],"let":[{"localId":"329","locator":"147:7-151:3","identifier":"ObsVisit","expression":{"localId":"328","locator":"147:17-151:3","type":"Last","source":{"localId":"327","locator":"147:22-150:25","type":"Query","source":[{"localId":"315","locator":"147:22-147:77","alias":"LastObs","expression":{"localId":"314","locator":"147:22-147:69","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Observation Services","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"322","locator":"148:5-148:95","type":"In","operand":[{"locator":"148:34-148:37","type":"End","operand":{"localId":"317","locator":"148:11-148:32","path":"relevantPeriod","scope":"LastObs","type":"Property"}},{"locator":"148:39-148:52","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"148:67-148:95","type":"Subtract","operand":[{"localId":"320","locator":"148:67-148:95","type":"Start","operand":{"localId":"319","locator":"148:76-148:95","path":"relevantPeriod","scope":"Visit","type":"Property"}},{"localId":"321","locator":"148:39-148:44","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"320","locator":"148:67-148:95","type":"Start","operand":{"localId":"319","locator":"148:76-148:95","path":"relevantPeriod","scope":"Visit","type":"Property"}}}]},"sort":{"localId":"326","locator":"149:5-150:25","by":[{"localId":"325","locator":"150:5-150:25","direction":"asc","type":"ByExpression","expression":{"localId":"324","locator":"150:5-150:25","type":"End","operand":{"localId":"323","locator":"150:12-150:25","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}},{"localId":"337","locator":"152:3-152:87","identifier":"VisitStart","expression":{"localId":"336","locator":"152:15-152:87","type":"Coalesce","operand":[{"localId":"332","locator":"152:24-152:55","type":"Start","operand":{"localId":"331","locator":"152:33-152:55","path":"relevantPeriod","type":"Property","source":{"localId":"330","locator":"152:33-152:40","name":"ObsVisit","type":"QueryLetRef"}}},{"localId":"335","locator":"152:58-152:86","type":"Start","operand":{"localId":"334","locator":"152:67-152:86","path":"relevantPeriod","scope":"Visit","type":"Property"}}]}},{"localId":"351","locator":"153:3-157:3","identifier":"EDVisit","expression":{"localId":"350","locator":"153:12-157:3","type":"Last","source":{"localId":"349","locator":"153:17-156:25","type":"Query","source":[{"localId":"339","locator":"153:17-153:77","alias":"LastED","expression":{"localId":"338","locator":"153:17-153:70","dataType":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","templateId":"PositiveEncounterPerformed","codeProperty":"code","type":"Retrieve","codes":{"name":"Emergency Department Visit","type":"ValueSetRef"}}}],"relationship":[],"where":{"localId":"344","locator":"154:5-154:75","type":"In","operand":[{"locator":"154:33-154:36","type":"End","operand":{"localId":"341","locator":"154:11-154:31","path":"relevantPeriod","scope":"LastED","type":"Property"}},{"locator":"154:38-154:51","lowClosed":true,"highClosed":true,"type":"Interval","low":{"locator":"154:66-154:75","type":"Subtract","operand":[{"localId":"342","locator":"154:66-154:75","name":"VisitStart","type":"QueryLetRef"},{"localId":"343","locator":"154:38-154:43","value":1,"unit":"hour","type":"Quantity"}]},"high":{"localId":"342","locator":"154:66-154:75","name":"VisitStart","type":"QueryLetRef"}}]},"sort":{"localId":"348","locator":"155:5-156:25","by":[{"localId":"347","locator":"156:5-156:25","direction":"asc","type":"ByExpression","expression":{"localId":"346","locator":"156:5-156:25","type":"End","operand":{"localId":"345","locator":"156:12-156:25","name":"relevantPeriod","type":"IdentifierRef"}}}]}}}}],"relationship":[],"return":{"localId":"361","locator":"158:3-159:30","expression":{"localId":"360","locator":"158:10-159:30","lowClosed":true,"highClosed":true,"type":"Interval","low":{"localId":"356","locator":"158:19-158:71","type":"Coalesce","operand":[{"localId":"354","locator":"158:28-158:58","type":"Start","operand":{"localId":"353","locator":"158:37-158:58","path":"relevantPeriod","type":"Property","source":{"localId":"352","locator":"158:37-158:43","name":"EDVisit","type":"QueryLetRef"}}},{"localId":"355","locator":"158:61-158:70","name":"VisitStart","type":"QueryLetRef"}]},"high":{"localId":"359","locator":"159:3-159:29","type":"End","operand":{"localId":"358","locator":"159:10-159:29","path":"relevantPeriod","scope":"Visit","type":"Property"}}}}},"operand":[{"name":"Encounter","operandTypeSpecifier":{"localId":"311","locator":"145:60-145:81","name":"{urn:healthit-gov:qdm:v5_4}PositiveEncounterPerformed","type":"NamedTypeSpecifier"}}]}]}}},"elm_annotations":{"statements":[{"children":[{"children":[{"children":[{"text":"define function \"LengthInDays\"(Value "}]},{"children":[{"children":[{"text":"Interval\u003c"}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"14"},{"children":[{"text":"\u003e"}]}],"ref_id":"15"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"difference in days between "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"16"}],"node_type":"Start","ref_id":"17"},{"children":[{"text":" and "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"18"}],"node_type":"End","ref_id":"19"}],"node_type":"DifferenceBetween","ref_id":"20"}],"node_type":"DifferenceBetween","ref_id":"20"}],"ref_id":"21"}],"define_name":"LengthInDays"},{"children":[{"children":[{"children":[{"text":"define \"Inpatient Encounter\":\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Encounter Inpatient\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"10"}],"node_type":"Retrieve","ref_id":"10"},{"children":[{"text":" EncounterInpatient"}]}],"ref_id":"11"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"\"LengthInDays\"("}]},{"children":[{"children":[{"children":[{"text":"EncounterInpatient"}]}],"ref_id":"12"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"13"}],"node_type":"Property","ref_id":"13"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"22"},{"children":[{"text":"\u003c= 120"}]}],"node_type":"LessOrEqual","ref_id":"24"},{"children":[{"text":"\n      and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"EncounterInpatient"}]}],"ref_id":"25"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"26"}],"node_type":"Property","ref_id":"26"},{"children":[{"text":" ends during "}]},{"children":[{"children":[{"text":"\"Measurement Period\""}]}],"node_type":"ParameterRef","ref_id":"27"}],"node_type":"In","ref_id":"28"}],"ref_id":"29"}],"ref_id":"29"}],"node_type":"Query","ref_id":"30"}],"ref_id":"31"}],"define_name":"Inpatient Encounter"},{"children":[{"children":[{"children":[{"text":"define \"ED Encounter\":\n  "}]},{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"32"}],"ref_id":"33"}],"define_name":"ED Encounter"},{"children":[{"children":[{"children":[{"text":"define function \"ToDate\"(Value "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"34"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"DateTime("}]},{"children":[{"children":[{"text":"year from "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"35"}],"ref_id":"36"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"month from "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"37"}],"ref_id":"38"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"day from "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"39"}],"ref_id":"40"},{"children":[{"text":", 0, 0, 0, 0, "}]},{"children":[{"children":[{"text":"timezone from "}]},{"children":[{"children":[{"text":"Value"}]}],"node_type":"OperandRef","ref_id":"45"}],"ref_id":"46"},{"children":[{"text":")"}]}],"node_type":"DateTime","ref_id":"47"}],"node_type":"DateTime","ref_id":"47"}],"ref_id":"48"}],"define_name":"ToDate"},{"children":[{"children":[{"children":[{"text":"define function \"CalendarAgeInDaysAt\"(BirthDateTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"49"},{"children":[{"text":", AsOf "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"50"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"days between "}]},{"children":[{"children":[{"text":"ToDate("}]},{"children":[{"children":[{"text":"BirthDateTime"}]}],"node_type":"OperandRef","ref_id":"51"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"52"},{"children":[{"text":"and "}]},{"children":[{"children":[{"text":"ToDate("}]},{"children":[{"children":[{"text":"AsOf"}]}],"node_type":"OperandRef","ref_id":"53"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"54"}],"node_type":"DurationBetween","ref_id":"55"}],"node_type":"DurationBetween","ref_id":"55"}],"ref_id":"56"}],"define_name":"CalendarAgeInDaysAt"},{"children":[{"children":[{"children":[{"text":"define function \"CalendarAgeInDays\"(BirthDateTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"57"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"CalendarAgeInDaysAt("}]},{"children":[{"children":[{"text":"BirthDateTime"}]}],"node_type":"OperandRef","ref_id":"58"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"Today()"}]}],"node_type":"Today","ref_id":"59"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"60"}],"node_type":"FunctionRef","ref_id":"60"}],"ref_id":"61"}],"define_name":"CalendarAgeInDays"},{"children":[{"children":[{"children":[{"text":"define function \"CalendarAgeInMonthsAt\"(BirthDateTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"62"},{"children":[{"text":", AsOf "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"63"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"months between "}]},{"children":[{"children":[{"text":"ToDate("}]},{"children":[{"children":[{"text":"BirthDateTime"}]}],"node_type":"OperandRef","ref_id":"64"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"65"},{"children":[{"text":"and "}]},{"children":[{"children":[{"text":"ToDate("}]},{"children":[{"children":[{"text":"AsOf"}]}],"node_type":"OperandRef","ref_id":"66"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"67"}],"node_type":"DurationBetween","ref_id":"68"}],"node_type":"DurationBetween","ref_id":"68"}],"ref_id":"69"}],"define_name":"CalendarAgeInMonthsAt"},{"children":[{"children":[{"children":[{"text":"define function \"CalendarAgeInMonths\"(BirthDateTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"70"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"CalendarAgeInMonthsAt("}]},{"children":[{"children":[{"text":"BirthDateTime"}]}],"node_type":"OperandRef","ref_id":"71"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"Today()"}]}],"node_type":"Today","ref_id":"72"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"73"}],"node_type":"FunctionRef","ref_id":"73"}],"ref_id":"74"}],"define_name":"CalendarAgeInMonths"},{"children":[{"children":[{"children":[{"text":"define function \"CalendarAgeInYearsAt\"(BirthDateTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"75"},{"children":[{"text":", AsOf "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"76"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"years between "}]},{"children":[{"children":[{"text":"ToDate("}]},{"children":[{"children":[{"text":"BirthDateTime"}]}],"node_type":"OperandRef","ref_id":"77"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"78"},{"children":[{"text":"and "}]},{"children":[{"children":[{"text":"ToDate("}]},{"children":[{"children":[{"text":"AsOf"}]}],"node_type":"OperandRef","ref_id":"79"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"80"}],"node_type":"DurationBetween","ref_id":"81"}],"node_type":"DurationBetween","ref_id":"81"}],"ref_id":"82"}],"define_name":"CalendarAgeInYearsAt"},{"children":[{"children":[{"children":[{"text":"define function \"CalendarAgeInYears\"(BirthDateTime "}]},{"children":[{"children":[{"text":"DateTime"}]}],"ref_id":"83"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"CalendarAgeInYearsAt("}]},{"children":[{"children":[{"text":"BirthDateTime"}]}],"node_type":"OperandRef","ref_id":"84"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"Today()"}]}],"node_type":"Today","ref_id":"85"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"86"}],"node_type":"FunctionRef","ref_id":"86"}],"ref_id":"87"}],"define_name":"CalendarAgeInYears"},{"children":[{"children":[{"children":[{"text":"define function \"HospitalizationLocations\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"91"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"92"},{"children":[{"text":" Visit"}]}],"ref_id":"93"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"94"}],"node_type":"Retrieve","ref_id":"94"},{"children":[{"text":" LastED"}]}],"ref_id":"95"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"96"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"97"}],"node_type":"Property","ref_id":"97"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"101"},{"children":[{"text":" or less on or before"}]}],"ref_id":"102"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"98"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"99"}],"node_type":"Property","ref_id":"99"}],"node_type":"Start","ref_id":"100"}],"ref_id":"102"}],"ref_id":"102"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"103"}],"node_type":"End","ref_id":"104"}],"ref_id":"105"}],"ref_id":"106"}],"ref_id":"107"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"108"}],"ref_id":"109"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"if "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"node_type":"QueryLetRef","ref_id":"110"},{"children":[{"text":" is null"}]}],"node_type":"IsNull","ref_id":"111"},{"children":[{"text":" then "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"112"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"113"}],"ref_id":"113"},{"children":[{"text":" \n      else "}]},{"children":[{"children":[{"text":"flatten "}]},{"children":[{"children":[{"text":"{ "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"114"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"115"}],"ref_id":"115"},{"children":[{"text":", "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"116"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"ref_id":"117"}],"ref_id":"117"},{"children":[{"text":" }"}]}],"node_type":"List","ref_id":"118"}],"ref_id":"119"}],"node_type":"If","ref_id":"120"}],"ref_id":"121"}],"node_type":"Query","ref_id":"122"}],"node_type":"Query","ref_id":"122"}],"ref_id":"123"}],"define_name":"HospitalizationLocations"},{"children":[{"children":[{"children":[{"text":"define function \"EmergencyDepartmentArrivalTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"124"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"125"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"126"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"126"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"127"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"128"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"129"}],"ref_id":"129"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}],"ref_id":"130"}],"ref_id":"131"}],"ref_id":"131"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"132"}],"node_type":"Start","ref_id":"133"}],"ref_id":"134"}],"ref_id":"135"}],"ref_id":"136"},{"children":[{"text":"\n  )"}]}],"ref_id":"137"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"138"}],"node_type":"Property","ref_id":"138"}],"node_type":"Start","ref_id":"139"}],"node_type":"Start","ref_id":"139"}],"ref_id":"140"}],"define_name":"EmergencyDepartmentArrivalTime"},{"children":[{"children":[{"children":[{"text":"define function \"FirstInpatientIntensiveCareUnit\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"141"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"142"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"facilityLocations"}]}],"node_type":"Property","ref_id":"143"}],"node_type":"Property","ref_id":"143"},{"children":[{"text":")"}]}],"node_type":"Property","ref_id":"143"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"144"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"145"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"code"}]}],"ref_id":"146"}],"ref_id":"146"},{"children":[{"text":" in "}]},{"children":[{"children":[{"text":"\"Intensive Care Unit\""}]}],"ref_id":"147"}],"node_type":"InValueSet","ref_id":"148"},{"children":[{"text":"\n        and "}]},{"children":[{"children":[{"children":[{"children":[{"text":"HospitalLocation"}]}],"ref_id":"149"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"150"}],"node_type":"Property","ref_id":"150"},{"children":[{"text":" during "}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"151"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"152"}],"node_type":"Property","ref_id":"152"}],"node_type":"IncludedIn","ref_id":"153"}],"ref_id":"154"}],"ref_id":"154"},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"155"}],"node_type":"Start","ref_id":"156"}],"ref_id":"157"}],"ref_id":"158"}],"ref_id":"159"},{"children":[{"text":"\n  )"}]}],"node_type":"First","ref_id":"160"}],"node_type":"First","ref_id":"160"}],"ref_id":"161"}],"define_name":"FirstInpatientIntensiveCareUnit"},{"children":[{"children":[{"children":[{"text":"define function \"Hospitalization\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"164"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"165"},{"children":[{"text":" Visit"}]}],"ref_id":"166"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"167"}],"node_type":"Retrieve","ref_id":"167"},{"children":[{"text":" LastED"}]}],"ref_id":"168"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"169"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"170"}],"node_type":"Property","ref_id":"170"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"174"},{"children":[{"text":" or less on or before"}]}],"ref_id":"175"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"171"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"172"}],"node_type":"Property","ref_id":"172"}],"node_type":"Start","ref_id":"173"}],"ref_id":"175"}],"ref_id":"175"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"176"}],"node_type":"End","ref_id":"177"}],"ref_id":"178"}],"ref_id":"179"}],"ref_id":"180"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"181"}],"ref_id":"182"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"183"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"184"}],"node_type":"Property","ref_id":"184"}],"node_type":"Start","ref_id":"185"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"186"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"187"}],"node_type":"Property","ref_id":"187"}],"node_type":"Start","ref_id":"188"},{"children":[{"text":")"}]}],"ref_id":"189"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"190"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"191"}],"node_type":"Property","ref_id":"191"}],"ref_id":"192"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"193"}],"ref_id":"194"}],"node_type":"Query","ref_id":"195"}],"node_type":"Query","ref_id":"195"}],"ref_id":"196"}],"define_name":"Hospitalization"},{"children":[{"children":[{"children":[{"text":"define function \"HospitalAdmissionTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"162"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"163"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"197"}],"node_type":"Start","ref_id":"198"}],"node_type":"Start","ref_id":"198"}],"ref_id":"199"}],"define_name":"HospitalAdmissionTime"},{"children":[{"children":[{"children":[{"text":"define function \"HospitalArrivalTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"200"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"First("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"201"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"202"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"202"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"203"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"204"}],"node_type":"Start","ref_id":"205"}],"ref_id":"206"}],"ref_id":"207"}],"ref_id":"208"},{"children":[{"text":"\n  )"}]}],"ref_id":"209"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"210"}],"node_type":"Property","ref_id":"210"}],"node_type":"Start","ref_id":"211"}],"node_type":"Start","ref_id":"211"}],"ref_id":"212"}],"define_name":"HospitalArrivalTime"},{"children":[{"children":[{"children":[{"text":"define function \"HospitalizationLengthofStay\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"215"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"LengthInDays("}]},{"children":[{"children":[{"text":"\"Hospitalization\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"216"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"217"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"218"}],"node_type":"FunctionRef","ref_id":"218"}],"ref_id":"219"}],"define_name":"HospitalizationLengthofStay"},{"children":[{"children":[{"children":[{"text":"define function \"HospitalDepartureTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"220"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"("}]},{"children":[{"children":[{"text":"\"HospitalizationLocations\"("}]},{"children":[{"children":[{"text":"Encounter"}]}],"node_type":"OperandRef","ref_id":"221"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"222"},{"children":[{"text":")"}]}],"node_type":"FunctionRef","ref_id":"222"},{"children":[{"text":"HospitalLocation"}]}],"ref_id":"223"}]},{"children":[{"text":"\n      "}]},{"children":[{"children":[{"text":"sort by "}]},{"children":[{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"IdentifierRef","ref_id":"224"}],"node_type":"Start","ref_id":"225"}],"ref_id":"226"}],"ref_id":"227"}],"ref_id":"228"},{"children":[{"text":"\n  )"}]}],"ref_id":"229"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"locationPeriod"}]}],"node_type":"Property","ref_id":"230"}],"node_type":"Property","ref_id":"230"}],"node_type":"End","ref_id":"231"}],"node_type":"End","ref_id":"231"}],"ref_id":"232"}],"define_name":"HospitalDepartureTime"},{"children":[{"children":[{"children":[{"text":"define function \"HospitalDischargeTime\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"233"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Encounter"}]}],"ref_id":"234"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"235"}],"node_type":"Property","ref_id":"235"}],"node_type":"End","ref_id":"236"}],"node_type":"End","ref_id":"236"}],"ref_id":"237"}],"define_name":"HospitalDischargeTime"},{"children":[{"children":[{"children":[{"text":"define function \"HospitalizationWithObservationAndOutpatientSurgeryService\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"238"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"239"},{"children":[{"text":" Visit"}]}],"ref_id":"240"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"241"}],"node_type":"Retrieve","ref_id":"241"},{"children":[{"text":" LastObs"}]}],"ref_id":"242"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"243"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"244"}],"node_type":"Property","ref_id":"244"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"248"},{"children":[{"text":" or less on or before"}]}],"ref_id":"249"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"245"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"246"}],"node_type":"Property","ref_id":"246"}],"node_type":"Start","ref_id":"247"}],"ref_id":"249"}],"ref_id":"249"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"250"}],"node_type":"End","ref_id":"251"}],"ref_id":"252"}],"ref_id":"253"}],"ref_id":"254"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"255"}],"ref_id":"256"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"257"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"258"}],"node_type":"Property","ref_id":"258"}],"node_type":"Start","ref_id":"259"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"260"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"261"}],"node_type":"Property","ref_id":"261"}],"node_type":"Start","ref_id":"262"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"263"}],"ref_id":"264"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"265"}],"node_type":"Retrieve","ref_id":"265"},{"children":[{"text":" LastED"}]}],"ref_id":"266"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"267"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"268"}],"node_type":"Property","ref_id":"268"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"270"},{"children":[{"text":" or less on or before"}]}],"ref_id":"271"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"269"}],"ref_id":"271"}],"ref_id":"271"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"272"}],"node_type":"End","ref_id":"273"}],"ref_id":"274"}],"ref_id":"275"}],"ref_id":"276"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"277"}],"ref_id":"278"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStartWithED: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"279"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"280"}],"node_type":"Property","ref_id":"280"}],"node_type":"Start","ref_id":"281"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"282"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"283"}],"ref_id":"284"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"OutpatientSurgeryVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Outpatient Surgery Service\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"285"}],"node_type":"Retrieve","ref_id":"285"},{"children":[{"text":" LastSurgeryOP"}]}],"ref_id":"286"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastSurgeryOP"}]}],"ref_id":"287"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"288"}],"node_type":"Property","ref_id":"288"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"290"},{"children":[{"text":" or less on or before"}]}],"ref_id":"291"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"289"}],"ref_id":"291"}],"ref_id":"291"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"292"}],"node_type":"End","ref_id":"293"}],"ref_id":"294"}],"ref_id":"295"}],"ref_id":"296"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"297"}],"ref_id":"298"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"OutpatientSurgeryVisit"}]}],"ref_id":"299"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"300"}],"node_type":"Property","ref_id":"300"}],"node_type":"Start","ref_id":"301"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStartWithED"}]}],"node_type":"QueryLetRef","ref_id":"302"},{"children":[{"text":")"}]}],"ref_id":"303"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"304"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"305"}],"node_type":"Property","ref_id":"305"}],"ref_id":"306"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"307"}],"ref_id":"308"}],"node_type":"Query","ref_id":"309"}],"node_type":"Query","ref_id":"309"}],"ref_id":"310"}],"define_name":"HospitalizationWithObservationAndOutpatientSurgeryService"},{"children":[{"children":[{"children":[{"text":"define function \"HospitalizationWithObservation\"(Encounter "}]},{"children":[{"children":[{"text":"\"Encounter, Performed\""}]}],"ref_id":"311"},{"children":[{"text":" ):\n  "}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"Encounter"}]}]}],"node_type":"OperandRef","ref_id":"312"},{"children":[{"text":" Visit"}]}],"ref_id":"313"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"let "}]},{"children":[{"children":[{"text":"ObsVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Observation Services\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"314"}],"node_type":"Retrieve","ref_id":"314"},{"children":[{"text":" LastObs"}]}],"ref_id":"315"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastObs"}]}],"ref_id":"316"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"317"}],"node_type":"Property","ref_id":"317"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"321"},{"children":[{"text":" or less on or before"}]}],"ref_id":"322"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"318"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"319"}],"node_type":"Property","ref_id":"319"}],"node_type":"Start","ref_id":"320"}],"ref_id":"322"}],"ref_id":"322"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"323"}],"node_type":"End","ref_id":"324"}],"ref_id":"325"}],"ref_id":"326"}],"ref_id":"327"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"328"}],"ref_id":"329"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"VisitStart: "}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"ObsVisit"}]}],"ref_id":"330"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"331"}],"node_type":"Property","ref_id":"331"}],"node_type":"Start","ref_id":"332"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"333"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"334"}],"node_type":"Property","ref_id":"334"}],"node_type":"Start","ref_id":"335"},{"children":[{"text":")"}]}],"node_type":"Coalesce","ref_id":"336"}],"ref_id":"337"},{"children":[{"text":",\n    "}]},{"children":[{"children":[{"text":"EDVisit: "}]},{"children":[{"children":[{"text":"Last("}]},{"children":[{"children":[{"children":[{"children":[{"children":[{"children":[{"text":"[\"Encounter, Performed\": "}]},{"children":[{"children":[{"text":"\"Emergency Department Visit\""}]}]},{"children":[{"text":"]"}]}],"node_type":"Retrieve","ref_id":"338"}],"node_type":"Retrieve","ref_id":"338"},{"children":[{"text":" LastED"}]}],"ref_id":"339"}]},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"where "}]},{"children":[{"children":[{"children":[{"children":[{"text":"LastED"}]}],"ref_id":"340"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"341"}],"node_type":"Property","ref_id":"341"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"ends "}]},{"children":[{"children":[{"text":"1 hour"}]}],"node_type":"Quantity","ref_id":"343"},{"children":[{"text":" or less on or before"}]}],"ref_id":"344"},{"children":[{"text":" "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"342"}],"ref_id":"344"}],"ref_id":"344"},{"children":[{"text":"\n        "}]},{"children":[{"children":[{"text":"sort by \n        "}]},{"children":[{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"IdentifierRef","ref_id":"345"}],"node_type":"End","ref_id":"346"}],"ref_id":"347"}],"ref_id":"348"}],"ref_id":"349"},{"children":[{"text":"\n    )"}]}],"node_type":"Last","ref_id":"350"}],"ref_id":"351"}]},{"children":[{"text":"\n    "}]},{"children":[{"children":[{"text":"return "}]},{"children":[{"children":[{"text":"Interval["}]},{"children":[{"children":[{"text":"Coalesce("}]},{"children":[{"children":[{"text":"start of "}]},{"children":[{"children":[{"children":[{"text":"EDVisit"}]}],"ref_id":"352"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"353"}],"node_type":"Property","ref_id":"353"}],"node_type":"Start","ref_id":"354"},{"children":[{"text":", "}]},{"children":[{"children":[{"text":"VisitStart"}]}],"node_type":"QueryLetRef","ref_id":"355"},{"children":[{"text":")"}]}],"ref_id":"356"},{"children":[{"text":", \n    "}]},{"children":[{"children":[{"text":"end of "}]},{"children":[{"children":[{"children":[{"text":"Visit"}]}],"ref_id":"357"},{"children":[{"text":"."}]},{"children":[{"children":[{"text":"relevantPeriod"}]}],"node_type":"Property","ref_id":"358"}],"node_type":"Property","ref_id":"358"}],"ref_id":"359"},{"children":[{"text":"]"}]}],"node_type":"Interval","ref_id":"360"}],"ref_id":"361"}],"node_type":"Query","ref_id":"362"}],"node_type":"Query","ref_id":"362"}],"ref_id":"363"}],"define_name":"HospitalizationWithObservation"}],"identifier":{"id":"MATGlobalCommonFunctions","version":"4.0.000"}},"is_main_library":false,"is_top_level":true,"library_name":"MATGlobalCommonFunctions","library_version":"4.0.000","statement_dependencies":[{"_id":{"$oid":"6050e60fc6e47b00993b93b6"},"statement_name":"CalendarAgeInYearsAt","statement_references":[{"_id":{"$oid":"6050e60fc6e47b00993b93b7"},"hqmf_id":null,"library_name":"MATGlobalCommonFunctions","statement_name":"ToDate"}]},{"_id":{"$oid":"6050e60fc6e47b00993b93b8"},"statement_name":"ToDate"}]}],"created_at":null,"description":"Percentage of patient visits for those patients aged 6 through 17 years with a diagnosis of major depressive disorder with an assessment for suicide risk","hqmf_id":"40280382-6963-BF5E-0169-6DC350B80329","hqmf_set_id":"848D09DE-7E6B-43C4-BEDD-5A2957CCFFE3","hqmf_version_number":"8.1.000","main_cql_library":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment","measure_attributes":[{"code":"OTH","value":"177","name":"eCQM Identifier (Measure Authoring Tool)","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"eCQM Identifier (Measure Authoring Tool)"},"value_obj":{"type":"ED","value":"177","media_type":"text/plain"}},{"code":"OTH","value":"1365e","name":"NQF Number","code_obj":{"type":"CD","null_flavor":"OTH","original_text":"NQF Number"},"value_obj":{"type":"ED","value":"1365e","media_type":"text/plain"}},{"code":"COPY","value":"Copyright 2019 PCPI(R) Foundation and American Medical Association. All Rights Reserved.","name":"Copyright","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"COPY","title":"Copyright"},"value_obj":{"type":"ED","value":"Copyright 2019 PCPI(R) Foundation and American Medical Association. All Rights Reserved.","media_type":"text/plain"}},{"code":"DISC","value":"The Measure is not a clinical guideline, does not establish a standard of medical care, and has not been tested for all potential applications. \n\nThe Measure, while copyrighted, can be reproduced and distributed, without modification, for noncommercial purposes, e.g., use by health care providers in connection with their practices. Commercial use is defined as the sale, license, or distribution of the Measure for commercial gain, or incorporation of the Measure into a product or service that is sold, licensed or distributed for commercial gain. \n\nCommercial uses of the Measure require a license agreement between the user and the PCPI(R) Foundation (PCPI[R]) or the American Medical Association (AMA). Neither the AMA, nor the former AMA-convened Physician Consortium for Performance Improvement(R) (AMA-PCPI), nor PCPI, nor their members shall be responsible for any use of the Measure.\n\nAMA and PCPI encourage use of the Measure by other health care professionals, where appropriate.\n\nTHE MEASURE AND SPECIFICATIONS ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND.\n\nLimited proprietary coding is contained in the Measure specifications for convenience. Users of the proprietary code sets should obtain all necessary licenses from the owners of these code sets. The AMA, the PCPI and its members and former members of the AMA-PCPI disclaim all liability for use or accuracy of any Current Procedural Terminology (CPT[R]) or other coding contained in the specifications. \n\nCPT(R) contained in the Measure specifications is copyright 2004-2018 American Medical Association. LOINC(R) is copyright 2004-2018 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2018 International Health Terminology Standards Development Organisation. ICD-10 is copyright 2018 World Health Organization. All Rights Reserved.\n\nDue to technical limitations, registered trademarks are indicated by (R) or [R].","name":"Disclaimer","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DISC","title":"Disclaimer"},"value_obj":{"type":"ED","value":"The Measure is not a clinical guideline, does not establish a standard of medical care, and has not been tested for all potential applications. \n\nThe Measure, while copyrighted, can be reproduced and distributed, without modification, for noncommercial purposes, e.g., use by health care providers in connection with their practices. Commercial use is defined as the sale, license, or distribution of the Measure for commercial gain, or incorporation of the Measure into a product or service that is sold, licensed or distributed for commercial gain. \n\nCommercial uses of the Measure require a license agreement between the user and the PCPI(R) Foundation (PCPI[R]) or the American Medical Association (AMA). Neither the AMA, nor the former AMA-convened Physician Consortium for Performance Improvement(R) (AMA-PCPI), nor PCPI, nor their members shall be responsible for any use of the Measure.\n\nAMA and PCPI encourage use of the Measure by other health care professionals, where appropriate.\n\nTHE MEASURE AND SPECIFICATIONS ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND.\n\nLimited proprietary coding is contained in the Measure specifications for convenience. Users of the proprietary code sets should obtain all necessary licenses from the owners of these code sets. The AMA, the PCPI and its members and former members of the AMA-PCPI disclaim all liability for use or accuracy of any Current Procedural Terminology (CPT[R]) or other coding contained in the specifications. \n\nCPT(R) contained in the Measure specifications is copyright 2004-2018 American Medical Association. LOINC(R) is copyright 2004-2018 Regenstrief Institute, Inc. This material contains SNOMED Clinical Terms(R) (SNOMED CT[R]) copyright 2004-2018 International Health Terminology Standards Development Organisation. ICD-10 is copyright 2018 World Health Organization. All Rights Reserved.\n\nDue to technical limitations, registered trademarks are indicated by (R) or [R].","media_type":"text/plain"}},{"code":"MSRSCORE","name":"Measure Scoring","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRSCORE","title":"Measure Scoring"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"PROPOR","title":"Proportion"}},{"code":"MSRTYPE","name":"Measure Type","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRTYPE","title":"Measure Type"},"value_obj":{"type":"CD","system":"2.16.840.1.113883.5.1063","code":"PROCESS","title":"PROCESS"}},{"code":"STRAT","value":"None","name":"Stratification","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"STRAT","title":"Stratification"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRADJ","value":"None","name":"Risk Adjustment","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRADJ","title":"Risk Adjustment"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"MSRAGG","value":"None","name":"Rate Aggregation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"MSRAGG","title":"Rate Aggregation"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"RAT","value":"Research has shown that patients with major depressive disorder are at a high risk for suicide attempts and completion - among the most significant and devastating sequelae of the disease. Suicide risk is a critical consideration in children and adolescents with MDD and an important aspect of care that should be assessed at each visit and subsequently managed to minimize that risk. Additionally, the importance of the assessments is underscored by research that indicates that many individuals who die by suicide do make contact with primary care providers and mental health services beforehand. More specifically, approximately 15% of suicide victims aged 35 years or younger had seen a mental health professional within 1 month of suicide while approximately 23% had seen a primary care provider within 1 month of suicide.","name":"Rationale","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"RAT","title":"Rationale"},"value_obj":{"type":"ED","value":"Research has shown that patients with major depressive disorder are at a high risk for suicide attempts and completion - among the most significant and devastating sequelae of the disease. Suicide risk is a critical consideration in children and adolescents with MDD and an important aspect of care that should be assessed at each visit and subsequently managed to minimize that risk. Additionally, the importance of the assessments is underscored by research that indicates that many individuals who die by suicide do make contact with primary care providers and mental health services beforehand. More specifically, approximately 15% of suicide victims aged 35 years or younger had seen a mental health professional within 1 month of suicide while approximately 23% had seen a primary care provider within 1 month of suicide.","media_type":"text/plain"}},{"code":"CRS","value":"The evaluation must include assessment for the presence of harm to self or others (MS) (American Academy of Child and Adolescent Psychiatry, 2007).\n\nSuicidal behavior exists along a continuum from passive thoughts of death to a clearly developed plan and intent to carry out that plan. Because depression is closely associated with suicidal thoughts and behavior, it is imperative to evaluate these symptoms at the initial and subsequent assessments. For this purpose, low burden tools to track suicidal ideation and behavior such as the Columbia-Suicidal Severity Rating Scale can be used. Also, it is crucial to evaluate the risk (e.g., age, sex, stressors, comorbid conditions, hopelessness, impulsivity) and protective factors (e.g., religious belief, concern not to hurt family) that might influence the desire to attempt suicide. The risk for suicidal behavior increases if there is a history of suicide attempts, comorbid psychiatric disorders (e.g., disruptive disorders, substance abuse), impulsivity and aggression, availability of lethal agents (e.g., firearms), exposure to negative events (e.g., physical or sexual abuse, violence), and a family history of suicidal behavior (American Academy of Child and Adolescent Psychiatry, 2007).\n\nA careful and ongoing evaluation of suicide risk is necessary for all patients with major depressive disorder (Category I). Such an assessment includes specific inquiry about suicidal thoughts, intent, plans, means, and behaviors; identification of specific psychiatric symptoms (e.g., psychosis, severe anxiety, substance use) or general medical conditions that may increase the likelihood of acting on suicidal ideas; assessment of past and, particularly, recent suicidal behavior; delineation of current stressors and potential protective factors (e.g., positive reasons for living, strong social support); and identification of any family history of suicide or mental illness (Category I) (American Psychiatric Association, 2010, reaffirmed 2015).","name":"Clinical Recommendation Statement","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"CRS","title":"Clinical Recommendation Statement"},"value_obj":{"type":"ED","value":"The evaluation must include assessment for the presence of harm to self or others (MS) (American Academy of Child and Adolescent Psychiatry, 2007).\n\nSuicidal behavior exists along a continuum from passive thoughts of death to a clearly developed plan and intent to carry out that plan. Because depression is closely associated with suicidal thoughts and behavior, it is imperative to evaluate these symptoms at the initial and subsequent assessments. For this purpose, low burden tools to track suicidal ideation and behavior such as the Columbia-Suicidal Severity Rating Scale can be used. Also, it is crucial to evaluate the risk (e.g., age, sex, stressors, comorbid conditions, hopelessness, impulsivity) and protective factors (e.g., religious belief, concern not to hurt family) that might influence the desire to attempt suicide. The risk for suicidal behavior increases if there is a history of suicide attempts, comorbid psychiatric disorders (e.g., disruptive disorders, substance abuse), impulsivity and aggression, availability of lethal agents (e.g., firearms), exposure to negative events (e.g., physical or sexual abuse, violence), and a family history of suicidal behavior (American Academy of Child and Adolescent Psychiatry, 2007).\n\nA careful and ongoing evaluation of suicide risk is necessary for all patients with major depressive disorder (Category I). Such an assessment includes specific inquiry about suicidal thoughts, intent, plans, means, and behaviors; identification of specific psychiatric symptoms (e.g., psychosis, severe anxiety, substance use) or general medical conditions that may increase the likelihood of acting on suicidal ideas; assessment of past and, particularly, recent suicidal behavior; delineation of current stressors and potential protective factors (e.g., positive reasons for living, strong social support); and identification of any family history of suicide or mental illness (Category I) (American Psychiatric Association, 2010, reaffirmed 2015).","media_type":"text/plain"}},{"code":"IDUR","value":"Higher score indicates better quality","name":"Improvement Notation","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IDUR","title":"Improvement Notation"},"value_obj":{"type":"ED","value":"Higher score indicates better quality","media_type":"text/plain"}},{"code":"REF","value":"American Academy of Child and Adolescent Psychiatry. (2007). Practice parameter for the assessment and treatment of children and adolescents with depressive disorders. Journal of the American Academy of Child and Adolescent Psychiatry, 46(11), 1503-1526. Retrieved from\nhttps://www.jaacap.org/article/S0890-8567(09)62053-0/fulltext","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"American Academy of Child and Adolescent Psychiatry. (2007). Practice parameter for the assessment and treatment of children and adolescents with depressive disorders. Journal of the American Academy of Child and Adolescent Psychiatry, 46(11), 1503-1526. Retrieved from\nhttps://www.jaacap.org/article/S0890-8567(09)62053-0/fulltext","media_type":"text/plain"}},{"code":"REF","value":"American Psychiatric Association Work Group on Major Depressive Disorder. (2010, October). Practice guideline for the treatment of patients with major depressive disorder. 3rd edition. Retrieved from http://psychiatryonline.org/pb/assets/raw/sitewide/practice_guidelines/guidelines/mdd.pdf \n(This guideline was reaffirmed in October 2015.)","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"American Psychiatric Association Work Group on Major Depressive Disorder. (2010, October). Practice guideline for the treatment of patients with major depressive disorder. 3rd edition. Retrieved from http://psychiatryonline.org/pb/assets/raw/sitewide/practice_guidelines/guidelines/mdd.pdf \n(This guideline was reaffirmed in October 2015.)","media_type":"text/plain"}},{"code":"REF","value":"Luoma, J. B., Martin, C. E., \u0026 Pearson, J. L. (2002). Contact with mental health and primary care providers before suicide: A review of the evidence. American Journal of Psychiatry, 159(6), 909-916.","name":"Reference","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"REF","title":"Reference"},"value_obj":{"type":"ED","value":"Luoma, J. B., Martin, C. E., \u0026 Pearson, J. L. (2002). Contact with mental health and primary care providers before suicide: A review of the evidence. American Journal of Psychiatry, 159(6), 909-916.","media_type":"text/plain"}},{"code":"DEF","value":"Numerator Definition: The specific type and magnitude of the suicide risk assessment is intended to be at the discretion of the individual clinician and should be specific to the needs of the patient. At a minimum, suicide risk assessment should evaluate:\n1. Risk (e.g., age, sex, stressors, comorbid conditions, hopelessness, impulsivity) and protective factors (e.g., religious belief, concern not to hurt family) that may influence the desire to attempt suicide.\n2. Current severity of suicidality.\n3. Most severe point of suicidality in episode and lifetime.\n \nLow burden tools to track suicidal ideation and behavior such as the Columbia-Suicidal Severity Rating Scale can also be used. Because no validated assessment tool or instrument fully meets the aforementioned requirements for the suicide risk assessment, individual tools or instruments have not been explicitly included in coding.","name":"Definition","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DEF","title":"Definition"},"value_obj":{"type":"ED","value":"Numerator Definition: The specific type and magnitude of the suicide risk assessment is intended to be at the discretion of the individual clinician and should be specific to the needs of the patient. At a minimum, suicide risk assessment should evaluate:\n1. Risk (e.g., age, sex, stressors, comorbid conditions, hopelessness, impulsivity) and protective factors (e.g., religious belief, concern not to hurt family) that may influence the desire to attempt suicide.\n2. Current severity of suicidality.\n3. Most severe point of suicidality in episode and lifetime.\n \nLow burden tools to track suicidal ideation and behavior such as the Columbia-Suicidal Severity Rating Scale can also be used. Because no validated assessment tool or instrument fully meets the aforementioned requirements for the suicide risk assessment, individual tools or instruments have not been explicitly included in coding.","media_type":"text/plain"}},{"code":"GUIDE","value":"A suicide risk assessment should be performed at every visit for major depressive disorder during the measurement period. \n\nSuicide risk assessments completed via telehealth services can also meet numerator performance. \n\nThis measure is an episode-of-care measure; the level of analysis for this measure is every visit for major depressive disorder during the measurement period. For example, at every visit for MDD, the patient should have a suicide risk assessment.\n\nUse of a standardized tool(s) or instrument(s) to assess suicide risk will meet numerator performance, so long as the minimum criteria noted above is evaluated. Standardized tools can be mapped to the concept \"Intervention, Performed\": \"Suicide risk assessment (procedure)\" included in the numerator logic below, as no individual suicide risk assessment tool or instrument would satisfy the requirements alone.","name":"Guidance","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"GUIDE","title":"Guidance"},"value_obj":{"type":"ED","value":"A suicide risk assessment should be performed at every visit for major depressive disorder during the measurement period. \n\nSuicide risk assessments completed via telehealth services can also meet numerator performance. \n\nThis measure is an episode-of-care measure; the level of analysis for this measure is every visit for major depressive disorder during the measurement period. For example, at every visit for MDD, the patient should have a suicide risk assessment.\n\nUse of a standardized tool(s) or instrument(s) to assess suicide risk will meet numerator performance, so long as the minimum criteria noted above is evaluated. Standardized tools can be mapped to the concept \"Intervention, Performed\": \"Suicide risk assessment (procedure)\" included in the numerator logic below, as no individual suicide risk assessment tool or instrument would satisfy the requirements alone.","media_type":"text/plain"}},{"code":"TRANF","value":"TBD","name":"Transmission Format","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"TRANF","title":"Transmission Format"},"value_obj":{"type":"ED","value":"TBD","media_type":"text/plain"}},{"code":"IPOP","value":"All patient visits for those patients aged 6 through 17 years with a diagnosis of major depressive disorder","name":"Initial Population","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"IPOP","title":"Initial Population"},"value_obj":{"type":"ED","value":"All patient visits for those patients aged 6 through 17 years with a diagnosis of major depressive disorder","media_type":"text/plain"}},{"code":"DENOM","value":"Equals Initial Population","name":"Denominator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENOM","title":"Denominator"},"value_obj":{"type":"ED","value":"Equals Initial Population","media_type":"text/plain"}},{"code":"DENEX","value":"None","name":"Denominator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEX","title":"Denominator Exclusions"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"NUMER","value":"Patient visits with an assessment for suicide risk","name":"Numerator","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMER","title":"Numerator"},"value_obj":{"type":"ED","value":"Patient visits with an assessment for suicide risk","media_type":"text/plain"}},{"code":"NUMEX","value":"Not Applicable","name":"Numerator Exclusions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"NUMEX","title":"Numerator Exclusions"},"value_obj":{"type":"ED","value":"Not Applicable","media_type":"text/plain"}},{"code":"DENEXCEP","value":"None","name":"Denominator Exceptions","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"DENEXCEP","title":"Denominator Exceptions"},"value_obj":{"type":"ED","value":"None","media_type":"text/plain"}},{"code":"SDE","value":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex","name":"Supplemental Data Elements","code_obj":{"type":"CD","system":"2.16.840.1.113883.5.4","code":"SDE","title":"Supplemental Data Elements"},"value_obj":{"type":"ED","value":"For every patient evaluated by this measure also identify payer, race, ethnicity and sex","media_type":"text/plain"}}],"measure_period":{"type":"IVL_TS","low":{"type":"TS","value":"201201010000","inclusive?":true,"derived?":false},"high":{"type":"TS","value":"201212312359","inclusive?":true,"derived?":false},"width":{"type":"PQ","unit":"a","value":"1","inclusive?":true,"derived?":false}},"measure_scoring":"PROPORTION","population_criteria":{"IPP":{"conjunction?":true,"type":"IPP","hqmf_id":"57E186C3-9BA6-4EA0-8ED3-A7B002CE738F","preconditions":[{"id":2,"preconditions":[{"id":1,"reference":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment__Initial_Population__E5D2078D_5B37_4FDA_9CA8_A19FC2916FC9"}],"conjunction_code":"allTrue"}]},"DENOM":{"conjunction?":true,"type":"DENOM","hqmf_id":"D02E6B26-38A2-44F9-8532-EDB5B86ADDE5","preconditions":[{"id":4,"preconditions":[{"id":3,"reference":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment__Denominator__E5D2078D_5B37_4FDA_9CA8_A19FC2916FC9"}],"conjunction_code":"allTrue"}]},"NUMER":{"conjunction?":true,"type":"NUMER","hqmf_id":"AB5AD2BA-F0C8-4C38-8A84-0B57DAB1A6A2","preconditions":[{"id":6,"preconditions":[{"id":5,"reference":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment__Numerator__E5D2078D_5B37_4FDA_9CA8_A19FC2916FC9"}],"conjunction_code":"allTrue"}]}},"population_sets":[{"_id":{"$oid":"6050e60fc6e47b00993b93b9"},"population_set_id":"PopulationSet_1","populations":{"DENOM":{"_id":{"$oid":"6050e60fc6e47b00993b93ba"},"hqmf_id":"D02E6B26-38A2-44F9-8532-EDB5B86ADDE5","library_name":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment","statement_name":"Denominator"},"IPP":{"_id":{"$oid":"6050e60fc6e47b00993b93bb"},"hqmf_id":"57E186C3-9BA6-4EA0-8ED3-A7B002CE738F","library_name":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment","statement_name":"Initial Population"},"NUMER":{"_id":{"$oid":"6050e60fc6e47b00993b93bc"},"hqmf_id":"AB5AD2BA-F0C8-4C38-8A84-0B57DAB1A6A2","library_name":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment","statement_name":"Numerator"},"_id":{"$oid":"6050e60fc6e47b00993b93bd"}},"supplemental_data_elements":[{"_id":{"$oid":"6050e60fc6e47b00993b93be"},"hqmf_id":"AB6F58A8-0D1A-41D6-B658-BD841F297C1D","library_name":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment","statement_name":"SDE Ethnicity"},{"_id":{"$oid":"6050e60fc6e47b00993b93bf"},"hqmf_id":"AD144123-B12A-458C-BA50-5C8FE67B673A","library_name":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment","statement_name":"SDE Payer"},{"_id":{"$oid":"6050e60fc6e47b00993b93c0"},"hqmf_id":"A9B1685B-E0A2-44C8-8083-6F62C1B1C766","library_name":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment","statement_name":"SDE Race"},{"_id":{"$oid":"6050e60fc6e47b00993b93c1"},"hqmf_id":"F2E3158F-26D5-477C-9460-CD9EC58C8DFA","library_name":"ChildandAdolescentMajorDepressiveDisorderMDDSuicideRiskAssessment","statement_name":"SDE Sex"}],"title":"Population Criteria Section"}],"source_data_criteria":[{"_id":{"$oid":"6050e60fc6e47b00993b93c2"},"codeListId":"2.16.840.1.114222.4.11.3591","dataElementCodes":[],"description":"Patient Characteristic Payer: Payer","hqmfOid":"2.16.840.1.113883.10.20.28.4.58","id":{"$oid":"6050e60fc6e47b00993b93c2"},"qdmCategory":"patient_characteristic","qdmStatus":"payer","qdmTitle":"Patient Characteristic Payer","qdmVersion":"5.5","relevantPeriod":null},{"_id":{"$oid":"6050e60fc6e47b00993b93c3"},"codeListId":"2.16.840.1.113762.1.4.1","dataElementCodes":[],"description":"Patient Characteristic Sex: ONCAdministrativeSex","hqmfOid":"2.16.840.1.113883.10.20.28.4.55","id":{"$oid":"6050e60fc6e47b00993b93c3"},"qdmCategory":"patient_characteristic","qdmStatus":"gender","qdmTitle":"Patient Characteristic Sex","qdmVersion":"5.5"},{"_id":{"$oid":"6050e60fc6e47b00993b93c4"},"codeListId":"2.16.840.1.114222.4.11.837","dataElementCodes":[],"description":"Patient Characteristic Ethnicity: Ethnicity","hqmfOid":"2.16.840.1.113883.10.20.28.4.56","id":{"$oid":"6050e60fc6e47b00993b93c4"},"qdmCategory":"patient_characteristic","qdmStatus":"ethnicity","qdmTitle":"Patient Characteristic Ethnicity","qdmVersion":"5.5"},{"_id":{"$oid":"6050e60fc6e47b00993b93c5"},"admissionSource":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1008","dataElementCodes":[],"description":"Encounter, Performed: OutpatientConsultation","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":{"$oid":"6050e60fc6e47b00993b93c5"},"lengthOfStay":null,"negationRationale":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.5","relevantPeriod":null},{"_id":{"$oid":"6050e60fc6e47b00993b93c6"},"admissionSource":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1031","dataElementCodes":[],"description":"Encounter, Performed: TelehealthServices","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":{"$oid":"6050e60fc6e47b00993b93c6"},"lengthOfStay":null,"negationRationale":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.5","relevantPeriod":null},{"_id":{"$oid":"6050e60fc6e47b00993b93c7"},"admissionSource":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1141","dataElementCodes":[],"description":"Encounter, Performed: Psychoanalysis","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":{"$oid":"6050e60fc6e47b00993b93c7"},"lengthOfStay":null,"negationRationale":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.5","relevantPeriod":null},{"_id":{"$oid":"6050e60fc6e47b00993b93c8"},"codeListId":"2.16.840.1.114222.4.11.836","dataElementCodes":[],"description":"Patient Characteristic Race: Race","hqmfOid":"2.16.840.1.113883.10.20.28.4.59","id":{"$oid":"6050e60fc6e47b00993b93c8"},"qdmCategory":"patient_characteristic","qdmStatus":"race","qdmTitle":"Patient Characteristic Race","qdmVersion":"5.5"},{"_id":{"$oid":"6050e60fc6e47b00993b93c9"},"admissionSource":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1492","dataElementCodes":[],"description":"Encounter, Performed: PsychVisit-DiagnosticEvaluation","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":{"$oid":"6050e60fc6e47b00993b93c9"},"lengthOfStay":null,"negationRationale":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.5","relevantPeriod":null},{"_id":{"$oid":"6050e60fc6e47b00993b93ca"},"admissionSource":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1496","dataElementCodes":[],"description":"Encounter, Performed: PsychVisit-Psychotherapy","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":{"$oid":"6050e60fc6e47b00993b93ca"},"lengthOfStay":null,"negationRationale":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.5","relevantPeriod":null},{"_id":{"$oid":"6050e60fc6e47b00993b93cb"},"admissionSource":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1187","dataElementCodes":[],"description":"Encounter, Performed: GroupPsychotherapy","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":{"$oid":"6050e60fc6e47b00993b93cb"},"lengthOfStay":null,"negationRationale":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.5","relevantPeriod":null},{"_id":{"$oid":"6050e60fc6e47b00993b93cc"},"admissionSource":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.526.3.1018","dataElementCodes":[],"description":"Encounter, Performed: PsychVisit-FamilyPsychotherapy","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":{"$oid":"6050e60fc6e47b00993b93cc"},"lengthOfStay":null,"negationRationale":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.5","relevantPeriod":null},{"_id":{"$oid":"6050e60fc6e47b00993b93cd"},"admissionSource":null,"authorDatetime":null,"codeListId":"2.16.840.1.113883.3.464.1003.101.12.1001","dataElementCodes":[],"description":"Encounter, Performed: OfficeVisit","diagnoses":null,"dischargeDisposition":null,"facilityLocations":[],"hqmfOid":"2.16.840.1.113883.10.20.28.4.5","id":{"$oid":"6050e60fc6e47b00993b93cd"},"lengthOfStay":null,"negationRationale":null,"priority":null,"qdmCategory":"encounter","qdmStatus":"performed","qdmTitle":"Encounter, Performed","qdmVersion":"5.5","relevantPeriod":null},{"_id":{"$oid":"6050e60fc6e47b00993b93ce"},"birthDatetime":null,"codeListId":"drc-c48426f721cede4d865df946157d5e2dc90bd32763ffcb982ca45b3bd97a29db","dataElementCodes":[],"description":"Patient Characteristic Birthdate: Birth date","hqmfOid":"2.16.840.1.113883.10.20.28.4.54","id":{"$oid":"6050e60fc6e47b00993b93ce"},"qdmCategory":"patient_characteristic","qdmStatus":"birthdate","qdmTitle":"Patient Characteristic Birthdate","qdmVersion":"5.5"},{"_id":{"$oid":"6050e60fc6e47b00993b93cf"},"authorDatetime":null,"codeListId":"drc-b42566dd591dcf3fb76a17c0bfcfe54ab5e4dc2c61ba574b8966aabc3d2e4149","dataElementCodes":[],"description":"Intervention, Performed: Suicide risk assessment (procedure)","hqmfOid":"2.16.840.1.113883.10.20.28.4.36","id":{"$oid":"6050e60fc6e47b00993b93cf"},"negationRationale":null,"qdmCategory":"intervention","qdmStatus":"performed","qdmTitle":"Intervention, Performed","qdmVersion":"5.5","reason":null,"relevantDatetime":null,"relevantPeriod":null,"result":null,"status":null}],"title":"Child and Adolescent Major Depressive Disorder (MDD): Suicide Risk Assessment","updated_at":null,"value_set_ids":[{"$oid":"6050e60ac6e47b00993b924e"},{"$oid":"6050e60ac6e47b00993b924f"},{"$oid":"6050e60fc6e47b00993b9250"},{"$oid":"6050e60fc6e47b00993b9251"},{"$oid":"6050e60fc6e47b00993b9252"},{"$oid":"6050e60fc6e47b00993b9253"},{"$oid":"6050e60fc6e47b00993b9254"},{"$oid":"6050e60fc6e47b00993b9255"},{"$oid":"6050e60fc6e47b00993b9256"},{"$oid":"6050e60fc6e47b00993b9257"},{"$oid":"6050e60fc6e47b00993b9258"},{"$oid":"6050e60fc6e47b00993b9259"},{"$oid":"6050e60fc6e47b00993b925a"},{"$oid":"6050e60fc6e47b00993b925b"},{"$oid":"6050e60fc6e47b00993b925c"},{"$oid":"6050e60fc6e47b00993b925d"},{"$oid":"6050e60fc6e47b00993b925e"},{"$oid":"6050e60fc6e47b00993b925f"},{"$oid":"6050e60fc6e47b00993b9260"},{"$oid":"6050e60fc6e47b00993b9261"}]}